(function(){"use strict";var e={12864:function(e,a,l){var t=l(45130),o=l(56768);const s={id:"app"};var n={__name:"App",setup(e){return(e,a)=>{const l=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(l)])}}};const r=n;var u=r,d=(l(98992),l(37550),l(81387)),i=l(51219),c=l(60782);const p=localStorage.getItem("satoken"),m=localStorage.getItem("role"),b=JSON.parse(localStorage.getItem("user")),k=(0,c.y$)({state:{isLoggedIn:!!p,user:b||null,satoken:p||"",role:m||""},mutations:{login(e,a){e.isLoggedIn=!0,e.user=a.user,e.satoken=a.satoken,e.role=a.role,localStorage.setItem("satoken",a.satoken),localStorage.setItem("role",a.role),localStorage.setItem("user",JSON.stringify(a.user))},logout(e){e.isLoggedIn=!1,e.user=null,e.satoken="",e.role="",localStorage.removeItem("satoken"),localStorage.removeItem("role"),localStorage.removeItem("user")}},actions:{login({commit:e},a){return fetch("http://localhost:8080/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((e=>e.json())).then((a=>{if(200!==a.code)throw new Error(a.message);{const l=a.data.user,t=a.data.user.satoken,o=a.data.user.role;e("login",{user:l,satoken:t,role:o})}}))},logout({commit:e}){e("logout")}},getters:{isLoggedIn:e=>e.isLoggedIn,user:e=>e.user,role:e=>e.role,satoken:e=>e.satoken}});var v=k,g=(l(44114),l(90144));const f={class:"login-container"};var h={__name:"UserLogin",setup(e){const a=(0,g.Kh)({username:"",password:""}),l=(0,d.rd)(),t=(0,c.Pj)(),s=()=>{console.log("submit!",a),t.dispatch("login",a).then((()=>{l.push("/")})).catch((e=>{console.error("登录失败:",e)}))},n=()=>{l.push("/teach-login")},r=()=>{l.push("/register")};return(e,l)=>{const t=(0,o.g2)("el-input"),u=(0,o.g2)("el-form-item"),d=(0,o.g2)("el-button"),i=(0,o.g2)("el-link"),c=(0,o.g2)("el-form");return(0,o.uX)(),(0,o.CE)("div",f,[l[5]||(l[5]=(0,o.Lk)("h2",null,"登录",-1)),(0,o.bF)(c,{model:a,"label-width":"120px"},{default:(0,o.k6)((()=>[(0,o.bF)(u,{label:"用户名"},{default:(0,o.k6)((()=>[(0,o.bF)(t,{modelValue:a.username,"onUpdate:modelValue":l[0]||(l[0]=e=>a.username=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(u,{label:"密码"},{default:(0,o.k6)((()=>[(0,o.bF)(t,{modelValue:a.password,"onUpdate:modelValue":l[1]||(l[1]=e=>a.password=e),type:"password"},null,8,["modelValue"])])),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,{type:"primary",onClick:s},{default:(0,o.k6)((()=>l[2]||(l[2]=[(0,o.eW)("登录")]))),_:1})])),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,{type:"primary",onClick:r},{default:(0,o.k6)((()=>l[3]||(l[3]=[(0,o.eW)("注册")]))),_:1}),(0,o.bF)(i,{style:{"margin-left":"30px"},type:"primary",onClick:n},{default:(0,o.k6)((()=>l[4]||(l[4]=[(0,o.eW)("管理员登录")]))),_:1})])),_:1})])),_:1},8,["model"])])}}},F=l(71241);const y=(0,F.A)(h,[["__scopeId","data-v-3fa5ce82"]]);var w=y,_=l(24232),V="data:image/png;base64,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";const C={class:"navbar"},I={class:"search-and-avatar"},L={key:0,class:"login-register-links"},E={key:1},A={class:"demo-rich-content",style:{display:"flex",gap:"16px","flex-direction":"column"}},x={class:"demo-rich-content__name",style:{margin:"0","font-weight":"500"}},R={class:"demo-rich-content__mention",style:{margin:"0","font-size":"14px",color:"var(--el-color-info)","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},W={class:"demo-rich-content__mention",style:{margin:"0","font-size":"14px",color:"var(--el-color-info)","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},z={class:"demo-rich-content__mention",style:{margin:"0","font-size":"14px",color:"var(--el-color-info)"}};var U={__name:"AppNavbar",setup(e){const a=(0,d.lq)(),l=(0,d.rd)(),t=(0,c.Pj)(),s=(0,g.KR)(a.name),n=(0,g.KR)(V);(0,o.wB)((()=>a.name),(e=>{s.value=e}));const r=e=>{switch(e){case"Home":l.push({name:"Home"});break;case"QuestionBank":l.push({name:"QuestionBank"});break;case"SmartQA":l.push({name:"SmartQA"});break;case"UserLeaderboardView":l.push({name:"UserLeaderboardView"});break;case"PersonalInfo":l.push({name:"PersonalInfo"});break}},u=(0,o.EW)((()=>t.getters.isLoggedIn)),i=(0,o.EW)((()=>t.getters.user));return(e,a)=>{const l=(0,o.g2)("router-link"),d=(0,o.g2)("el-menu-item"),c=(0,o.g2)("el-menu"),p=(0,o.g2)("el-avatar"),m=(0,o.g2)("el-button"),b=(0,o.g2)("el-popover");return(0,o.uX)(),(0,o.CE)("nav",C,[(0,o.bF)(l,{class:"logo",to:"/"}),(0,o.bF)(c,{"default-active":s.value,class:"el-menu-demo",mode:"horizontal",style:{"border-bottom":"0 solid transparent"},onSelect:r},{default:(0,o.k6)((()=>[(0,o.bF)(d,{index:"Home"},{default:(0,o.k6)((()=>a[1]||(a[1]=[(0,o.eW)("编程学习")]))),_:1}),(0,o.bF)(d,{index:"QuestionBank"},{default:(0,o.k6)((()=>a[2]||(a[2]=[(0,o.eW)("题库")]))),_:1}),(0,o.bF)(d,{index:"SmartQA"},{default:(0,o.k6)((()=>a[3]||(a[3]=[(0,o.eW)("智能问答")]))),_:1}),(0,o.bF)(d,{index:"UserLeaderboardView"},{default:(0,o.k6)((()=>a[4]||(a[4]=[(0,o.eW)("排行榜")]))),_:1}),(0,o.bF)(d,{index:"PersonalInfo"},{default:(0,o.k6)((()=>a[5]||(a[5]=[(0,o.eW)("个人信息")]))),_:1})])),_:1},8,["default-active"]),(0,o.Lk)("div",I,[u.value?((0,o.uX)(),(0,o.CE)("div",E,[(0,o.bF)(b,{width:200,"popper-style":"box-shadow: rgb(14 18 22 / 35%) 0px 10px 38px -10px, rgb(14 18 22 / 20%) 0px 10px 20px -15px; padding: 20px;"},{reference:(0,o.k6)((()=>[(0,o.bF)(p,{size:40,src:n.value},null,8,["src"])])),default:(0,o.k6)((()=>[(0,o.Lk)("div",A,[(0,o.Lk)("div",null,[(0,o.Lk)("p",x,(0,_.v_)(i.value.username),1),(0,o.Lk)("p",R,(0,_.v_)(i.value.email),1),(0,o.Lk)("p",W," 学号: "+(0,_.v_)(i.value.studentNumber),1),(0,o.Lk)("p",z," 答题通过率: "+(0,_.v_)((100*i.value.passRate).toFixed(2))+"% ",1),(0,o.bF)(m,{type:"primary",style:{"margin-top":"8px"},onClick:a[0]||(a[0]=e=>(0,g.R1)(t).dispatch("logout"))},{default:(0,o.k6)((()=>a[9]||(a[9]=[(0,o.eW)(" 退出登录 ")]))),_:1})])])])),_:1})])):((0,o.uX)(),(0,o.CE)("div",L,[(0,o.bF)(l,{to:"/login"},{default:(0,o.k6)((()=>a[6]||(a[6]=[(0,o.eW)("登录")]))),_:1}),a[8]||(a[8]=(0,o.eW)(" | ")),(0,o.bF)(l,{to:"/register"},{default:(0,o.k6)((()=>a[7]||(a[7]=[(0,o.eW)("注册")]))),_:1})]))])])}}};const K=(0,F.A)(U,[["__scopeId","data-v-43c99566"]]);var S=K;const X={class:"footer"},D={class:"container"},q={class:"footer-section"};function B(e,a){const l=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("footer",X,[(0,o.Lk)("div",D,[a[3]||(a[3]=(0,o.Lk)("div",{class:"footer-section"},[(0,o.Lk)("h3",null,"关于我们"),(0,o.Lk)("p",null,"我们是一家致力于编程教育和技术支持的公司。")],-1)),(0,o.Lk)("div",q,[a[2]||(a[2]=(0,o.Lk)("h3",null,"快速链接",-1)),(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,[(0,o.bF)(l,{to:"/"},{default:(0,o.k6)((()=>a[0]||(a[0]=[(0,o.eW)("首页")]))),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(l,{to:"/question-bank"},{default:(0,o.k6)((()=>a[1]||(a[1]=[(0,o.eW)("题库")]))),_:1})])])]),a[4]||(a[4]=(0,o.Fv)('<div class="footer-section" data-v-022c96b7><h3 data-v-022c96b7>联系方式</h3><ul data-v-022c96b7><li data-v-022c96b7>Email: <a href="mailto:support@example.com" data-v-022c96b7>support@example.com</a></li><li data-v-022c96b7>Phone: +123 456 7890</li></ul></div><div class="footer-section" data-v-022c96b7><h3 data-v-022c96b7>关注我们</h3><div class="social-icons" data-v-022c96b7><a href="https://www.facebook.com" target="_blank" aria-label="Facebook" data-v-022c96b7><i class="fab fa-facebook-f" data-v-022c96b7></i></a><a href="https://www.twitter.com" target="_blank" aria-label="Twitter" data-v-022c96b7><i class="fab fa-twitter" data-v-022c96b7></i></a><a href="https://www.linkedin.com" target="_blank" aria-label="LinkedIn" data-v-022c96b7><i class="fab fa-linkedin-in" data-v-022c96b7></i></a></div></div>',2))])])}const P={},j=(0,F.A)(P,[["render",B],["__scopeId","data-v-022c96b7"]]);var O=j;const Q={class:"layout"},J={class:"content"};var T={__name:"LayoutView",setup(e){return(e,a)=>{const l=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",Q,[(0,o.bF)(S,{class:"navbar"}),(0,o.Lk)("main",J,[(0,o.bF)(l)]),(0,o.bF)(O,{class:"footer"})])}}};const N=(0,F.A)(T,[["__scopeId","data-v-71112044"]]);var Z=N;const Y={class:"home-container"},M={class:"hero-section"};var G={__name:"HomeView",setup(e){const a=(0,d.rd)(),l=()=>{a.push("/random-question")};return(e,a)=>{const t=(0,o.g2)("el-button");return(0,o.uX)(),(0,o.CE)("div",Y,[(0,o.Lk)("header",M,[a[1]||(a[1]=(0,o.Lk)("h1",null,"欢迎来到在线编程平台",-1)),a[2]||(a[2]=(0,o.Lk)("p",null,"专注于C++学习与练习，提升你的编程技能。",-1)),(0,o.bF)(t,{type:"primary",onClick:l},{default:(0,o.k6)((()=>a[0]||(a[0]=[(0,o.eW)("随机一题")]))),_:1})]),a[3]||(a[3]=(0,o.Fv)('<section class="features-section" data-v-7d70a46c><h2 data-v-7d70a46c>我们的特色功能</h2><div class="feature-card-grid" data-v-7d70a46c><div class="feature-card" data-v-7d70a46c><i class="fas fa-code" data-v-7d70a46c></i><h3 data-v-7d70a46c>C++ 随机一题</h3><p data-v-7d70a46c>每天挑战一道随机C++题目。</p></div><div class="feature-card" data-v-7d70a46c><i class="fas fa-book-reader" data-v-7d70a46c></i><h3 data-v-7d70a46c>详细解答</h3><p data-v-7d70a46c>每道题目都有详细的解答和解释。</p></div><div class="feature-card" data-v-7d70a46c><i class="fas fa-users" data-v-7d70a46c></i><h3 data-v-7d70a46c>社区支持</h3><p data-v-7d70a46c>加入我们的论坛和讨论组。</p></div></div></section><section class="latest-courses-section" data-v-7d70a46c><h2 data-v-7d70a46c>热门课程</h2><div class="course-card-grid" data-v-7d70a46c><div class="course-card" data-v-7d70a46c><img src="https://via.placeholder.com/150" alt="Course Image" data-v-7d70a46c><h3 data-v-7d70a46c>C++ 基础教程</h3><p data-v-7d70a46c>适合初学者的C++入门课程。</p></div><div class="course-card" data-v-7d70a46c><img src="https://via.placeholder.com/150" alt="Course Image" data-v-7d70a46c><h3 data-v-7d70a46c>C++ 进阶课程</h3><p data-v-7d70a46c>深入学习C++高级特性。</p></div><div class="course-card" data-v-7d70a46c><img src="https://via.placeholder.com/150" alt="Course Image" data-v-7d70a46c><h3 data-v-7d70a46c>C++ 实战项目</h3><p data-v-7d70a46c>通过项目巩固C++知识。</p></div></div></section>',2))])}}};const H=(0,F.A)(G,[["__scopeId","data-v-7d70a46c"]]);var $=H;const ee={class:"programming-learning"};function ae(e,a){return(0,o.uX)(),(0,o.CE)("div",ee,a[0]||(a[0]=[(0,o.Lk)("h1",null,"编程学习",-1),(0,o.Lk)("p",null,"这里是编程学习内容。",-1)]))}const le={},te=(0,F.A)(le,[["render",ae],["__scopeId","data-v-d00fb508"]]);var oe=te,se=l(94373);const ne=se.A.create({baseURL:"http://localhost:8080",timeout:1e5,headers:{"Content-Type":"application/json"}});ne.interceptors.request.use((e=>{const a=v.getters.satoken;return a&&(e.headers["satoken"]=a),e}),(e=>Promise.reject(e))),ne.interceptors.response.use((e=>e),(e=>{if(e.response){const{status:a,data:l}=e.response;401===a?(i.nk.error(l.message||"未登录或登录失效，请重新登录"),v.commit("logout"),tt.push("/login")):403===a?i.nk.error(l.message||"权限不足，无法访问"):500===a?i.nk.error(l.message||"服务器内部错误，请稍后再试"):i.nk.error(l.message||"请求失败，请稍后再试")}else i.nk.error("请求异常，请检查网络或服务器状态");return Promise.reject(e)}));var re=ne;const ue={class:"question-bank"},de={class:"header"};var ie={__name:"QuestionBank",setup(e){const a=(0,g.KR)([]),l=(0,d.rd)(),t=(0,g.KR)(!1),s=(0,g.Kh)({current:1,size:5,total:0}),n=(0,g.Kh)({difficulty:null,search:""}),r=async()=>{t.value=!0;try{const e=await re.get("/problems/page/user",{params:{current:s.current,size:s.size,difficulty:n.difficulty,query:n.search}});200===e.data.code?(a.value=e.data.data.records,s.total=e.data.data.total):i.nk.error("获取题目失败")}catch(e){i.nk.error("获取题目失败")}finally{t.value=!1}},u=e=>{s.current=e,r()},c=e=>{switch(e){case"简单":return"success";case"中等":return"warning";case"困难":return"danger";default:return"info"}},p=e=>{l.push({name:"DescriptionView",params:{id:e}})},m=e=>{l.push({name:"DescriptionView",params:{id:e}})},b=()=>{if(a.value.length>0){const e=a.value[Math.floor(Math.random()*a.value.length)].id;m(e)}else i.nk.warning("当前无题目可选")};return(0,o.sV)(r),(e,l)=>{const d=(0,o.g2)("el-option"),i=(0,o.g2)("el-select"),k=(0,o.g2)("el-col"),v=(0,o.g2)("el-input"),g=(0,o.g2)("el-button"),f=(0,o.g2)("el-row"),h=(0,o.g2)("el-link"),F=(0,o.g2)("el-table-column"),y=(0,o.g2)("el-tag"),w=(0,o.g2)("el-table"),V=(0,o.g2)("el-pagination"),C=(0,o.gN)("loading");return(0,o.uX)(),(0,o.CE)("div",ue,[(0,o.Lk)("div",de,[l[3]||(l[3]=(0,o.Lk)("h1",null,"题库",-1)),(0,o.bF)(f,{class:"filters",type:"flex",align:"middle",justify:"space-between"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{span:6},{default:(0,o.k6)((()=>[(0,o.bF)(i,{modelValue:n.difficulty,"onUpdate:modelValue":l[0]||(l[0]=e=>n.difficulty=e),placeholder:"选择难度",clearable:"",onChange:r},{default:(0,o.k6)((()=>[(0,o.bF)(d,{label:"简单",value:"简单"}),(0,o.bF)(d,{label:"中等",value:"中等"}),(0,o.bF)(d,{label:"困难",value:"困难"})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(k,{span:10},{default:(0,o.k6)((()=>[(0,o.bF)(v,{modelValue:n.search,"onUpdate:modelValue":l[1]||(l[1]=e=>n.search=e),placeholder:"搜索题目、编号或内容",clearable:"",onInput:r},null,8,["modelValue"])])),_:1}),(0,o.bF)(k,{span:4,style:{"text-align":"right"}},{default:(0,o.k6)((()=>[(0,o.bF)(g,{type:"success",onClick:b},{default:(0,o.k6)((()=>l[2]||(l[2]=[(0,o.eW)("随机一题")]))),_:1})])),_:1})])),_:1})]),(0,o.bo)(((0,o.uX)(),(0,o.Wv)(w,{data:a.value,border:"",style:{width:"100%"}},{default:(0,o.k6)((()=>[(0,o.bF)(F,{prop:"title",label:"题目",width:"250"},{default:(0,o.k6)((e=>[(0,o.bF)(h,{underline:!1,onClick:a=>p(e.row.id)},{default:(0,o.k6)((()=>[(0,o.eW)((0,_.v_)(e.row.title),1)])),_:2},1032,["onClick"])])),_:1}),(0,o.bF)(F,{prop:"tags",label:"标签",width:"180"},{default:(0,o.k6)((e=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.row.tags.split(","),(e=>((0,o.uX)(),(0,o.CE)("span",{key:e,class:"tag"},(0,_.v_)(e),1)))),128))])),_:1}),(0,o.bF)(F,{prop:"difficulty",label:"难度"},{default:(0,o.k6)((e=>[(0,o.bF)(y,{type:c(e.row.difficulty)},{default:(0,o.k6)((()=>[(0,o.eW)((0,_.v_)(e.row.difficulty),1)])),_:2},1032,["type"])])),_:1}),(0,o.bF)(F,{label:"操作",fixed:"right",width:"150"},{default:(0,o.k6)((e=>[(0,o.bF)(g,{size:"small",type:"primary",onClick:a=>m(e.row.id)},{default:(0,o.k6)((()=>l[4]||(l[4]=[(0,o.eW)("开始做题")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[C,t.value]]),s.total>0?((0,o.uX)(),(0,o.Wv)(V,{key:0,style:{"margin-top":"20px","text-align":"right"},"current-page":s.current,"page-size":s.size,total:s.total,layout:"prev, pager, next",onCurrentChange:u},null,8,["current-page","page-size","total"])):(0,o.Q3)("",!0)])}}};const ce=(0,F.A)(ie,[["__scopeId","data-v-45fb8aa5"]]);var pe=ce,me=l(57477);const be={class:"submissions-container"},ke={style:{"text-align":"center"}};var ve={__name:"SmartQA",setup(e){const a=(0,g.KR)({records:[],total:0,size:10,current:1}),l=(0,g.KR)(!1),t=(0,d.rd)(),s=async(e=1)=>{try{const l=await re.get("/submissions/page/user",{params:{current:e,size:a.value.size}});200===l.data.code?a.value=l.data.data:console.error("获取提交记录失败:",l.data.message)}catch(l){console.error("获取提交记录失败:",l.message)}},n=async e=>{l.value=!0;try{const a=await re.post(`/ai/score-submission/${e}`);200===a.data.code?(l.value=!1,i.nk.success("AI评分完成"),s()):(l.value=!1,i.nk.error(`评分失败: ${a.data.message}`))}catch(a){l.value=!1,i.nk.error(`评分失败: ${a.message}`)}},r=e=>{e?t.push({name:"AiOptimization",params:{id:e}}).catch((e=>{"NavigationDuplicated"!==e.name&&console.error("Failed to navigate to AI Optimization page:",e)})):console.error("Invalid ID provided for optimization.")};return(0,o.sV)((()=>s())),(e,t)=>{const u=(0,o.g2)("el-table-column"),d=(0,o.g2)("el-button"),i=(0,o.g2)("el-table"),c=(0,o.g2)("el-pagination"),p=(0,o.g2)("el-icon"),m=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",be,[t[4]||(t[4]=(0,o.Lk)("h1",null,"用户提交记录",-1)),(0,o.bF)(i,{data:a.value.records,style:{width:"100%"}},{default:(0,o.k6)((()=>[(0,o.bF)(u,{prop:"id",label:"记录ID",width:"120"}),(0,o.bF)(u,{prop:"problemId",label:"题目ID",width:"120"}),(0,o.bF)(u,{prop:"status",label:"状态",width:"120"}),(0,o.bF)(u,{prop:"runtime",label:"运行时间 (ms)",width:"150"}),(0,o.bF)(u,{prop:"memory",label:"内存使用 (KB)",width:"150"}),(0,o.bF)(u,{prop:"score",label:"分数",width:"150"}),(0,o.bF)(u,{prop:"duplicationRate",label:"查重",width:"150"}),(0,o.bF)(u,{fixed:"right",label:"操作",width:"300"},{default:(0,o.k6)((e=>[(0,o.bF)(d,{type:"primary",onClick:a=>n(e.row.id)},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("AI评分")]))),_:2},1032,["onClick"]),(0,o.bF)(d,{type:"success",onClick:a=>r(e.row.id)},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("代码优化建议")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,o.bF)(c,{background:"",layout:"prev, pager, next","current-page":a.value.current,"page-size":a.value.size,total:a.value.total,onCurrentChange:s},null,8,["current-page","page-size","total"]),(0,o.bF)(m,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),width:"30%",center:""},{default:(0,o.k6)((()=>[(0,o.Lk)("div",ke,[(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.Rhj))])),_:1}),t[3]||(t[3]=(0,o.Lk)("p",null,"AI正在处理，请稍候...",-1))])])),_:1},8,["modelValue"])])}}};const ge=(0,F.A)(ve,[["__scopeId","data-v-2999dc81"]]);var fe=ge;const he={class:"personal-info"};var Fe={__name:"PersonalInfo",setup(e){const a=(0,g.Kh)({id:null,username:"",studentNumber:"",email:"",role:"",level:0,totalSubmissions:0,successfulSubmissions:0,totalScore:0}),l=(0,g.Kh)({username:"",studentId:"",email:"",password:"",studentNumber:""}),t=(0,g.KR)(!1),s=(0,g.KR)(null),n={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur",type:"email"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],studentNumber:[{required:!0,message:"请输入学号",trigger:"blur"}]},r=async()=>{try{const e=await re.get("/users/getUserByLogin");200===e.data.code?Object.assign(a,e.data.data.user):i.nk.error("获取用户信息失败："+e.data.message)}catch(e){i.nk.error("获取用户信息失败："+e.message)}},u=()=>{l.username=a.username,l.studentNumber=a.studentNumber,l.email=a.email,l.password=a.password,t.value=!0},d=async()=>{s.value?s.value.validate((async e=>{if(e)try{const e=await re.put("/users/updateUser",{id:a.id,username:l.username,studentNumber:l.studentNumber,email:l.email,password:l.password});200===e.data.code?(i.nk.success("更新成功"),t.value=!1,r()):i.nk.error("更新失败："+e.data.message)}catch(o){i.nk.error("更新失败："+o.message)}else i.nk.error("表单校验失败")})):i.nk.error("表单未初始化")};return(0,o.sV)((()=>{r()})),(e,r)=>{const i=(0,o.g2)("el-button"),c=(0,o.g2)("el-card"),p=(0,o.g2)("el-input"),m=(0,o.g2)("el-form-item"),b=(0,o.g2)("el-form"),k=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",he,[r[17]||(r[17]=(0,o.Lk)("h1",null,"个人信息",-1)),(0,o.bF)(c,{class:"user-info-card",shadow:"hover"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.Lk)("p",null,[r[6]||(r[6]=(0,o.Lk)("strong",null,"用户名：",-1)),(0,o.eW)((0,_.v_)(a.username),1)]),(0,o.Lk)("p",null,[r[7]||(r[7]=(0,o.Lk)("strong",null,"学号：",-1)),(0,o.eW)((0,_.v_)(a.studentNumber),1)]),(0,o.Lk)("p",null,[r[8]||(r[8]=(0,o.Lk)("strong",null,"邮箱：",-1)),(0,o.eW)((0,_.v_)(a.email),1)]),(0,o.Lk)("p",null,[r[9]||(r[9]=(0,o.Lk)("strong",null,"角色：",-1)),(0,o.eW)((0,_.v_)(a.role),1)]),(0,o.Lk)("p",null,[r[10]||(r[10]=(0,o.Lk)("strong",null,"等级：",-1)),(0,o.eW)((0,_.v_)(a.level),1)]),(0,o.Lk)("p",null,[r[11]||(r[11]=(0,o.Lk)("strong",null,"总提交数：",-1)),(0,o.eW)((0,_.v_)(a.totalSubmissions),1)]),(0,o.Lk)("p",null,[r[12]||(r[12]=(0,o.Lk)("strong",null,"通过数：",-1)),(0,o.eW)((0,_.v_)(a.successfulSubmissions),1)]),(0,o.Lk)("p",null,[r[13]||(r[13]=(0,o.Lk)("strong",null,"总得分：",-1)),(0,o.eW)((0,_.v_)(a.totalScore),1)])]),(0,o.bF)(i,{type:"primary",onClick:u},{default:(0,o.k6)((()=>r[14]||(r[14]=[(0,o.eW)("修改信息")]))),_:1})])),_:1}),(0,o.bF)(k,{modelValue:t.value,"onUpdate:modelValue":r[5]||(r[5]=e=>t.value=e),title:"修改个人信息"},{footer:(0,o.k6)((()=>[(0,o.bF)(i,{onClick:r[4]||(r[4]=e=>t.value=!1)},{default:(0,o.k6)((()=>r[15]||(r[15]=[(0,o.eW)("取消")]))),_:1}),(0,o.bF)(i,{type:"primary",onClick:d},{default:(0,o.k6)((()=>r[16]||(r[16]=[(0,o.eW)("保存")]))),_:1})])),default:(0,o.k6)((()=>[(0,o.bF)(b,{ref_key:"editForm",ref:s,model:l,rules:n,"label-width":"100px"},{default:(0,o.k6)((()=>[(0,o.bF)(m,{label:"用户名",prop:"username"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{modelValue:l.username,"onUpdate:modelValue":r[0]||(r[0]=e=>l.username=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(m,{label:"学号",prop:"studentId"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{modelValue:l.studentNumber,"onUpdate:modelValue":r[1]||(r[1]=e=>l.studentNumber=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(m,{label:"邮箱",prop:"email"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{modelValue:l.email,"onUpdate:modelValue":r[2]||(r[2]=e=>l.email=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(m,{label:"密码",prop:"password"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{modelValue:l.password,"onUpdate:modelValue":r[3]||(r[3]=e=>l.password=e),type:"password"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}};const ye=(0,F.A)(Fe,[["__scopeId","data-v-042ad915"]]);var we=ye;const _e={class:"register-container"};var Ve={__name:"RegisterView",setup(e){const a=(0,d.rd)(),l=(0,g.KR)({username:"",email:"",password:"",confirmPassword:"",studentNumber:""}),t=(e,a,t)=>{""===a?t(new Error("请输入密码")):(""!==l.value.confirmPassword&&c.value.validateField("confirmPassword"),t())},s=(e,a,t)=>{""===a?t(new Error("请再次输入密码")):a!==l.value.password?t(new Error("两次输入密码不一致!")):t()},n=(0,g.KR)({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入电子邮件地址",trigger:"blur"},{type:"email",message:"请输入正确的电子邮件地址",trigger:"blur"}],password:[{validator:t,trigger:"blur"}],confirmPassword:[{validator:s,trigger:"blur"}],studentNumber:[{required:!1,message:"请输入学号",trigger:"blur"}]}),r=async()=>{c.value.validate((async e=>{if(!e)return console.log("验证失败!"),!1;try{const e=await se.A.post("http://localhost:8080/users/student/register",l.value);200===e.status?(i.nk.success("注册成功!"),a.push("/login")):i.nk.error("注册失败，请重试")}catch(t){console.error("注册失败:",t),i.nk.error("注册失败，请检查网络或联系管理员")}}))},u=()=>{c.value.resetFields()},c=(0,g.KR)(null);return(e,a)=>{const t=(0,o.g2)("el-input"),s=(0,o.g2)("el-form-item"),d=(0,o.g2)("el-button"),i=(0,o.g2)("el-form"),p=(0,o.g2)("el-card");return(0,o.uX)(),(0,o.CE)("div",_e,[(0,o.bF)(p,{class:"box-card"},{default:(0,o.k6)((()=>[a[9]||(a[9]=(0,o.Lk)("h2",null,"注册",-1)),(0,o.bF)(i,{ref_key:"ruleForm",ref:c,model:l.value,rules:n.value,"label-width":"100px"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{label:"用户名",prop:"username"},{default:(0,o.k6)((()=>[(0,o.bF)(t,{modelValue:l.value.username,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value.username=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(s,{label:"电子邮件",prop:"email"},{default:(0,o.k6)((()=>[(0,o.bF)(t,{modelValue:l.value.email,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value.email=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(s,{label:"密码",prop:"password"},{default:(0,o.k6)((()=>[(0,o.bF)(t,{modelValue:l.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>l.value.password=e),type:"password","show-password":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(s,{label:"确认密码",prop:"confirmPassword"},{default:(0,o.k6)((()=>[(0,o.bF)(t,{modelValue:l.value.confirmPassword,"onUpdate:modelValue":a[3]||(a[3]=e=>l.value.confirmPassword=e),type:"password","show-password":""},null,8,["modelValue"])])),_:1}),(0,o.bF)(s,{label:"学号",prop:"studentNumber"},{default:(0,o.k6)((()=>[(0,o.bF)(t,{modelValue:l.value.studentNumber,"onUpdate:modelValue":a[4]||(a[4]=e=>l.value.studentNumber=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,{type:"primary",onClick:a[5]||(a[5]=e=>r("ruleForm"))},{default:(0,o.k6)((()=>a[7]||(a[7]=[(0,o.eW)("注册")]))),_:1}),(0,o.bF)(d,{onClick:a[6]||(a[6]=e=>u("ruleForm"))},{default:(0,o.k6)((()=>a[8]||(a[8]=[(0,o.eW)("重置")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})])}}};const Ce=(0,F.A)(Ve,[["__scopeId","data-v-8b3b4126"]]);var Ie=Ce,Le=l(16623),Ee=l(89309),Ae=l(95242),xe=l(87482);const Re={class:"code-editor-container"};var We={__name:"CodeEditor",emits:["update:modelValue"],setup(e,{emit:a}){const l=(0,g.KR)("\n".repeat(15)),t=a,s=e=>{t("update:modelValue",e)},n={extensions:[xe.oQ,(0,Ee.I)(),Ae.bM],tabSize:2,indentWithTab:!0,lineNumbers:!0,styleActiveLine:!0,lineWrap:!0,foldGutter:!0,scrollbarStyle:"simple"};return(e,a)=>{const t=(0,o.g2)("el-card");return(0,o.uX)(),(0,o.CE)("div",Re,[(0,o.bF)(t,{class:"box-card"},{default:(0,o.k6)((()=>[a[0]||(a[0]=(0,o.Lk)("h2",null,"C++ 代码编辑器",-1)),(0,o.bF)((0,g.R1)(Le.bE),{class:"code-mirror","model-value":l.value,options:n,"onUpdate:modelValue":s},null,8,["model-value"])])),_:1})])}}};const ze=(0,F.A)(We,[["__scopeId","data-v-20cee220"]]);var Ue=ze;const Ke={class:"random-question-container"};var Se={__name:"RandomQuestion",setup(e){const a=(0,g.KR)('编写一个函数来反转字符串中的单词顺序。\n例如，输入 "hello world" 应输出 "world hello"'),l=async e=>{try{const a=await fetch("http://localhost:8080/submissions/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(a.ok){const e=await a.json();i.nk.success("代码提交成功!"),console.log(e)}else i.nk.error("代码提交失败，请重试")}catch(a){console.error("提交代码时出错:",a),i.nk.error("提交代码时出错，请检查网络或联系管理员")}};return(e,t)=>((0,o.uX)(),(0,o.CE)("div",Ke,[t[0]||(t[0]=(0,o.Lk)("h1",null,"随机一题",-1)),t[1]||(t[1]=(0,o.Lk)("p",null,"以下是一道随机生成的C++题目：",-1)),(0,o.Lk)("pre",null,(0,_.v_)(a.value),1),(0,o.bF)(Ue,{onSubmitCode:l})]))}};const Xe=(0,F.A)(Se,[["__scopeId","data-v-32b957ec"]]);var De=Xe;const qe={class:"user-info"},Be={class:"el-dropdown-link"};var Pe={__name:"AdminLayout",setup(e){const a=(0,d.lq)(),l=(0,d.rd)(),t=(0,o.EW)((()=>{const e={"/dashboard":"仪表盘","/problems":"题目管理","/samples":"示例测试管理","/ai-assist":"AI辅助评分","/submissions":"提交管理","/rankings":"排行榜","/users":"用户管理"};return e[a.path]||"首页"})),s=(0,o.EW)((()=>a.path)),n=()=>{console.log("退出登录"),l.push("/teach-login")};return(e,a)=>{const l=(0,o.g2)("el-icon"),r=(0,o.g2)("el-menu-item"),u=(0,o.g2)("el-menu"),d=(0,o.g2)("el-aside"),i=(0,o.g2)("el-breadcrumb-item"),c=(0,o.g2)("el-breadcrumb"),p=(0,o.g2)("el-avatar"),m=(0,o.g2)("el-dropdown-item"),b=(0,o.g2)("el-dropdown-menu"),k=(0,o.g2)("el-dropdown"),v=(0,o.g2)("el-header"),f=(0,o.g2)("router-view"),h=(0,o.g2)("el-main"),F=(0,o.g2)("el-footer"),y=(0,o.g2)("el-container");return(0,o.uX)(),(0,o.Wv)(y,{style:{height:"100vh"}},{default:(0,o.k6)((()=>[(0,o.bF)(d,{width:"200px",class:"sidebar"},{default:(0,o.k6)((()=>[a[8]||(a[8]=(0,o.Lk)("div",{class:"logo"},"OJ平台管理",-1)),(0,o.bF)(u,{"default-active":s.value,class:"el-menu-vertical-demo",router:""},{default:(0,o.k6)((()=>[(0,o.bF)(r,{index:"/admin/dashboard"},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.tTi))])),_:1}),a[0]||(a[0]=(0,o.Lk)("span",null,"仪表盘",-1))])),_:1}),(0,o.bF)(r,{index:"/admin/problems"},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.yoT))])),_:1}),a[1]||(a[1]=(0,o.Lk)("span",null,"题目管理",-1))])),_:1}),(0,o.bF)(r,{index:"/admin/problem-answers"},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.yoT))])),_:1}),a[2]||(a[2]=(0,o.Lk)("span",null,"题目答案管理",-1))])),_:1}),(0,o.bF)(r,{index:"/admin/problem-samples"},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.ffu))])),_:1}),a[3]||(a[3]=(0,o.Lk)("span",null,"示例测试管理",-1))])),_:1}),(0,o.bF)(r,{index:"/admin/comment"},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.fX))])),_:1}),a[4]||(a[4]=(0,o.Lk)("span",null,"评论管理",-1))])),_:1}),(0,o.bF)(r,{index:"/admin/submissions"},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me._OO))])),_:1}),a[5]||(a[5]=(0,o.Lk)("span",null,"提交管理",-1))])),_:1}),(0,o.bF)(r,{index:"/admin/rankings"},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.rgM))])),_:1}),a[6]||(a[6]=(0,o.Lk)("span",null,"排行榜",-1))])),_:1}),(0,o.bF)(r,{index:"/admin/user"},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.KJW))])),_:1}),a[7]||(a[7]=(0,o.Lk)("span",null,"用户管理",-1))])),_:1})])),_:1},8,["default-active"])])),_:1}),(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(v,{class:"header"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{separator:"/"},{default:(0,o.k6)((()=>[(0,o.bF)(i,null,{default:(0,o.k6)((()=>a[9]||(a[9]=[(0,o.eW)("管理后台")]))),_:1}),(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,_.v_)(t.value),1)])),_:1})])),_:1}),(0,o.Lk)("div",qe,[(0,o.bF)(p,{size:40,src:"https://via.placeholder.com/40"}),a[12]||(a[12]=(0,o.Lk)("span",{class:"username"},"管理员",-1)),(0,o.bF)(k,null,{dropdown:(0,o.k6)((()=>[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.bF)(m,{onClick:n},{default:(0,o.k6)((()=>a[11]||(a[11]=[(0,o.eW)("退出登录")]))),_:1})])),_:1})])),default:(0,o.k6)((()=>[(0,o.Lk)("span",Be,[a[10]||(a[10]=(0,o.eW)(" 设置 ")),(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.yd$))])),_:1})])])),_:1})])])),_:1}),(0,o.bF)(h,{class:"main-content"},{default:(0,o.k6)((()=>[(0,o.bF)(f)])),_:1}),(0,o.bF)(F,{class:"footer"},{default:(0,o.k6)((()=>a[13]||(a[13]=[(0,o.eW)(" © 2024 OJ平台管理系统 | 技术支持：C++OJ平台 ")]))),_:1})])),_:1})])),_:1})}}};const je=(0,F.A)(Pe,[["__scopeId","data-v-73f9eed9"]]);var Oe=je;const Qe={style:{padding:"20px","max-width":"1200px",margin:"auto"}},Je={class:"stat-item"},Te={class:"stat-value"},Ne={class:"stat-item"},Ze={class:"stat-value"},Ye={class:"stat-item"},Me={class:"stat-value"},Ge={class:"stat-item"},He={class:"stat-value"};var $e={__name:"DashboardView",setup(e){const a=(0,d.rd)(),l=(0,g.KR)({problemCount:0,submissionCount:0,acceptedCount:0,userCount:0}),t=(0,g.KR)([]),s=()=>{re.get("/dashboard/stats").then((e=>{l.value=e.data.data}))},n=()=>{re.get("/dashboard/recent-submissions").then((e=>{t.value=e.data.data||[]}))},r=e=>"Accepted"===e?"success":"Wrong Answer"===e?"danger":"warning",u=e=>{a.push(e)};return(0,o.sV)((()=>{s(),n()})),(e,a)=>{const s=(0,o.g2)("el-icon"),n=(0,o.g2)("el-card"),d=(0,o.g2)("el-col"),i=(0,o.g2)("el-row"),c=(0,o.g2)("el-table-column"),p=(0,o.g2)("el-tag"),m=(0,o.g2)("el-table"),b=(0,o.g2)("el-button");return(0,o.uX)(),(0,o.CE)("div",Qe,[a[11]||(a[11]=(0,o.Lk)("h2",{style:{"text-align":"center","margin-bottom":"20px"}},"仪表盘",-1)),(0,o.bF)(i,{gutter:20,style:{"margin-bottom":"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(d,{span:6},{default:(0,o.k6)((()=>[(0,o.bF)(n,{shadow:"hover"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Je,[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.yoT))])),_:1}),(0,o.Lk)("div",null,[a[3]||(a[3]=(0,o.Lk)("p",{class:"stat-title"},"题目总数",-1)),(0,o.Lk)("p",Te,(0,_.v_)(l.value.problemCount),1)])])])),_:1})])),_:1}),(0,o.bF)(d,{span:6},{default:(0,o.k6)((()=>[(0,o.bF)(n,{shadow:"hover"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Ne,[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me._OO))])),_:1}),(0,o.Lk)("div",null,[a[4]||(a[4]=(0,o.Lk)("p",{class:"stat-title"},"提交总数",-1)),(0,o.Lk)("p",Ze,(0,_.v_)(l.value.submissionCount),1)])])])),_:1})])),_:1}),(0,o.bF)(d,{span:6},{default:(0,o.k6)((()=>[(0,o.bF)(n,{shadow:"hover"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Ye,[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.Jlk))])),_:1}),(0,o.Lk)("div",null,[a[5]||(a[5]=(0,o.Lk)("p",{class:"stat-title"},"通过总数",-1)),(0,o.Lk)("p",Me,(0,_.v_)(l.value.acceptedCount),1)])])])),_:1})])),_:1}),(0,o.bF)(d,{span:6},{default:(0,o.k6)((()=>[(0,o.bF)(n,{shadow:"hover"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Ge,[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.KJW))])),_:1}),(0,o.Lk)("div",null,[a[6]||(a[6]=(0,o.Lk)("p",{class:"stat-title"},"用户总数",-1)),(0,o.Lk)("p",He,(0,_.v_)(l.value.userCount),1)])])])),_:1})])),_:1})])),_:1}),(0,o.bF)(n,{shadow:"hover",style:{"margin-bottom":"20px"}},{header:(0,o.k6)((()=>a[7]||(a[7]=[(0,o.Lk)("span",null,"最近提交记录",-1)]))),default:(0,o.k6)((()=>[(0,o.bF)(m,{data:t.value,style:{width:"100%"},border:""},{default:(0,o.k6)((()=>[(0,o.bF)(c,{prop:"id",label:"ID",width:"80"}),(0,o.bF)(c,{prop:"problemId",label:"题目",width:"300"}),(0,o.bF)(c,{prop:"userId",label:"提交用户",width:"150"}),(0,o.bF)(c,{prop:"status",label:"状态",width:"100"},{default:(0,o.k6)((e=>[(0,o.bF)(p,{type:r(e.row.status)},{default:(0,o.k6)((()=>[(0,o.eW)((0,_.v_)(e.row.status),1)])),_:2},1032,["type"])])),_:1}),(0,o.bF)(c,{prop:"runtime",label:"运行时间 (ms)",width:"150"}),(0,o.bF)(c,{prop:"createdAt",label:"提交时间"})])),_:1},8,["data"])])),_:1}),(0,o.bF)(i,{gutter:20,justify:"center"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{span:8},{default:(0,o.k6)((()=>[(0,o.bF)(b,{type:"primary",style:{width:"100%"},onClick:a[0]||(a[0]=e=>u("/problems"))},{default:(0,o.k6)((()=>a[8]||(a[8]=[(0,o.eW)("题目管理")]))),_:1})])),_:1}),(0,o.bF)(d,{span:8},{default:(0,o.k6)((()=>[(0,o.bF)(b,{type:"success",style:{width:"100%"},onClick:a[1]||(a[1]=e=>u("/submissions"))},{default:(0,o.k6)((()=>a[9]||(a[9]=[(0,o.eW)("提交管理")]))),_:1})])),_:1}),(0,o.bF)(d,{span:8},{default:(0,o.k6)((()=>[(0,o.bF)(b,{type:"warning",style:{width:"100%"},onClick:a[2]||(a[2]=e=>u("/rankings"))},{default:(0,o.k6)((()=>a[10]||(a[10]=[(0,o.eW)("查看排行榜")]))),_:1})])),_:1})])),_:1})])}}};const ea=(0,F.A)($e,[["__scopeId","data-v-773f1693"]]);var aa=ea;l(81454);const la={class:"truncate-text"},ta={class:"truncate-text"},oa={class:"truncate-text"};var sa={__name:"ProblemManagement",setup(e){const a=(0,d.rd)(),l=(0,g.KR)(""),t=(0,g.KR)([]),s=(0,g.KR)([]),n=(0,g.KR)(!1),r=(0,g.KR)(!1),u=(0,g.Kh)({id:null,title:"",description:"",inputDescription:"",outputDescription:"",tags:"",timeLimit:1e3,memoryLimit:10240,difficulty:"简单",visible:!0}),c=(0,g.Kh)({current:1,size:5,total:0}),p=async()=>{try{const e=await re.get("/problems/page",{params:{query:l.value,current:c.current,size:c.size}});t.value=e.data.data.records,c.total=e.data.data.total}catch(e){i.nk.error("获取题目列表失败")}},m=e=>{c.current=e,p()},b=e=>{c.size=e,c.current=1,p()},k=()=>{r.value=!1,Object.assign(u,{id:null,title:"",description:"",inputDescription:"",outputDescription:"",tags:"",timeLimit:1e3,memoryLimit:10240,difficulty:"简单",visible:!0}),n.value=!0},v=e=>{r.value=!0,Object.assign(u,e),n.value=!0},f=async()=>{try{r.value?(await re.put("/problems/updateById",u),i.nk.success("题目更新成功")):(await re.post("/problems/create",u),i.nk.success("题目添加成功")),n.value=!1,p()}catch(e){i.nk.error("保存失败")}},h=async e=>{try{await re.delete(`/problems/deleteById/${e}`),i.nk.success("删除成功"),p()}catch(a){i.nk.error("删除失败")}},F=async()=>{try{const e=s.value.map((e=>e.id));await re.post("/problems/deleteBatch",e),i.nk.success("批量删除成功"),p()}catch(e){i.nk.error("批量删除失败")}},y=e=>{s.value=e},w=e=>{a.push(`/admin/problem-samples/${e}`)},V=async e=>{try{await re.post(`/submissions/similarity/compute/${e}`),i.nk.success("查重完成并已更新重复率"),a.push(`/admin/submissions/${e}`)}catch(l){i.nk.error("查重失败: "+(l.response?.data?.message||l.message))}},C=e=>{a.push(`/admin/problem-answers/${e}`)},I=async(e,l)=>{switch(e){case"manageSamples":w(l.id);break;case"viewSubmissions":a.push(`/admin/submissions/${l.id}`);break;case"manageAnswers":C(l.id);break;case"checkDuplicates":await V(l.id);break;default:i.nk.warning("未知操作")}};return(0,o.sV)(p),(e,a)=>{const d=(0,o.g2)("el-input"),i=(0,o.g2)("el-button"),g=(0,o.g2)("el-col"),w=(0,o.g2)("el-row"),V=(0,o.g2)("el-table-column"),C=(0,o.g2)("el-tooltip"),L=(0,o.g2)("el-dropdown-item"),E=(0,o.g2)("el-dropdown-menu"),A=(0,o.g2)("el-dropdown"),x=(0,o.g2)("el-table"),R=(0,o.g2)("el-option"),W=(0,o.g2)("el-select"),z=(0,o.g2)("el-pagination"),U=(0,o.g2)("el-form-item"),K=(0,o.g2)("el-switch"),S=(0,o.g2)("el-form"),X=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(w,{style:{"margin-bottom":"10px"},align:"middle",justify:"space-between"},{default:(0,o.k6)((()=>[(0,o.bF)(g,{span:12},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),placeholder:"搜索题目...",style:{width:"300px","margin-right":"10px"}},null,8,["modelValue"]),(0,o.bF)(i,{type:"primary",onClick:p},{default:(0,o.k6)((()=>a[13]||(a[13]=[(0,o.eW)("搜索")]))),_:1})])),_:1}),(0,o.bF)(g,{span:12,style:{"text-align":"right"}},{default:(0,o.k6)((()=>[(0,o.bF)(i,{type:"primary",onClick:k},{default:(0,o.k6)((()=>a[14]||(a[14]=[(0,o.eW)("添加题目")]))),_:1}),(0,o.bF)(i,{type:"danger",disabled:0===s.value.length,onClick:F},{default:(0,o.k6)((()=>a[15]||(a[15]=[(0,o.eW)("批量删除")]))),_:1},8,["disabled"])])),_:1})])),_:1}),(0,o.bF)(x,{data:t.value,border:"",style:{width:"100%"},onSelectionChange:y},{default:(0,o.k6)((()=>[(0,o.bF)(V,{type:"selection",width:"55"}),(0,o.bF)(V,{prop:"title",label:"题目标题",width:"180"}),(0,o.bF)(V,{prop:"difficulty",label:"难度",width:"100"}),(0,o.bF)(V,{label:"描述",width:"200"},{default:(0,o.k6)((e=>[(0,o.bF)(C,{effect:"dark",content:e.row.description,placement:"top"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",la,(0,_.v_)(e.row.description),1)])),_:2},1032,["content"])])),_:1}),(0,o.bF)(V,{label:"输入描述",width:"200"},{default:(0,o.k6)((e=>[(0,o.bF)(C,{effect:"dark",content:e.row.inputDescription,placement:"top"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",ta,(0,_.v_)(e.row.inputDescription),1)])),_:2},1032,["content"])])),_:1}),(0,o.bF)(V,{label:"输出描述",width:"200"},{default:(0,o.k6)((e=>[(0,o.bF)(C,{effect:"dark",content:e.row.outputDescription,placement:"top"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",oa,(0,_.v_)(e.row.outputDescription),1)])),_:2},1032,["content"])])),_:1}),(0,o.bF)(V,{prop:"tags",label:"标签",width:"180"}),(0,o.bF)(V,{label:"时间/内存限制",width:"180"},{default:(0,o.k6)((e=>[(0,o.eW)((0,_.v_)(e.row.timeLimit)+" ms / "+(0,_.v_)(e.row.memoryLimit)+" KB ",1)])),_:1}),(0,o.bF)(V,{prop:"visible",label:"可见性",width:"100"},{default:(0,o.k6)((e=>[(0,o.eW)((0,_.v_)(e.row.visible?"可见":"隐藏"),1)])),_:1}),(0,o.bF)(V,{prop:"createdAt",label:"创建时间",width:"180"}),(0,o.bF)(V,{label:"操作",fixed:"right",width:"300"},{default:(0,o.k6)((e=>[(0,o.bF)(i,{size:"small",type:"primary",onClick:a=>v(e.row)},{default:(0,o.k6)((()=>a[16]||(a[16]=[(0,o.eW)("编辑")]))),_:2},1032,["onClick"]),(0,o.bF)(i,{size:"small",type:"danger",onClick:a=>h(e.row.id)},{default:(0,o.k6)((()=>a[17]||(a[17]=[(0,o.eW)("删除")]))),_:2},1032,["onClick"]),(0,o.bF)(A,{size:"small",style:{"margin-left":"10px"},type:"success",onCommand:a=>I(a,e.row)},{dropdown:(0,o.k6)((()=>[(0,o.bF)(E,null,{default:(0,o.k6)((()=>[(0,o.bF)(L,{command:"manageSamples"},{default:(0,o.k6)((()=>a[19]||(a[19]=[(0,o.eW)("管理示例")]))),_:1}),(0,o.bF)(L,{command:"viewSubmissions"},{default:(0,o.k6)((()=>a[20]||(a[20]=[(0,o.eW)("查看提交")]))),_:1}),(0,o.bF)(L,{command:"manageAnswers"},{default:(0,o.k6)((()=>a[21]||(a[21]=[(0,o.eW)("管理答案")]))),_:1}),(0,o.bF)(L,{command:"checkDuplicates"},{default:(0,o.k6)((()=>a[22]||(a[22]=[(0,o.eW)("已提交查重")]))),_:1})])),_:1})])),default:(0,o.k6)((()=>[(0,o.bF)(i,{size:"small",type:"success"},{default:(0,o.k6)((()=>a[18]||(a[18]=[(0,o.eW)("操作")]))),_:1})])),_:2},1032,["onCommand"])])),_:1})])),_:1},8,["data"]),(0,o.bF)(w,{style:{"margin-top":"10px"},type:"flex",justify:"space-between",align:"middle"},{default:(0,o.k6)((()=>[(0,o.bF)(g,{span:2},{default:(0,o.k6)((()=>[(0,o.bF)(W,{modelValue:c.size,"onUpdate:modelValue":a[1]||(a[1]=e=>c.size=e),placeholder:"每页显示",style:{width:"100%"},onChange:b},{default:(0,o.k6)((()=>[(0,o.bF)(R,{label:"5 条/页",value:5}),(0,o.bF)(R,{label:"10 条/页",value:10}),(0,o.bF)(R,{label:"20 条/页",value:20}),(0,o.bF)(R,{label:"50 条/页",value:50})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(g,{span:16},{default:(0,o.k6)((()=>[(0,o.bF)(z,{"current-page":c.current,"page-size":c.size,total:c.total,layout:"prev, pager, next",style:{"text-align":"right"},onCurrentChange:m},null,8,["current-page","page-size","total"])])),_:1})])),_:1}),(0,o.bF)(X,{modelValue:n.value,"onUpdate:modelValue":a[12]||(a[12]=e=>n.value=e),title:r.value?"编辑题目":"添加题目"},{default:(0,o.k6)((()=>[(0,o.bF)(S,{model:u},{default:(0,o.k6)((()=>[(0,o.bF)(U,{label:"标题"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:u.title,"onUpdate:modelValue":a[2]||(a[2]=e=>u.title=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(U,{label:"描述"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:u.description,"onUpdate:modelValue":a[3]||(a[3]=e=>u.description=e),type:"textarea"},null,8,["modelValue"])])),_:1}),(0,o.bF)(U,{label:"输入描述"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:u.inputDescription,"onUpdate:modelValue":a[4]||(a[4]=e=>u.inputDescription=e),type:"textarea"},null,8,["modelValue"])])),_:1}),(0,o.bF)(U,{label:"输出描述"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:u.outputDescription,"onUpdate:modelValue":a[5]||(a[5]=e=>u.outputDescription=e),type:"textarea"},null,8,["modelValue"])])),_:1}),(0,o.bF)(U,{label:"标签"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:u.tags,"onUpdate:modelValue":a[6]||(a[6]=e=>u.tags=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(U,{label:"时间限制"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:u.timeLimit,"onUpdate:modelValue":a[7]||(a[7]=e=>u.timeLimit=e),type:"number"},null,8,["modelValue"])])),_:1}),(0,o.bF)(U,{label:"内存限制"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:u.memoryLimit,"onUpdate:modelValue":a[8]||(a[8]=e=>u.memoryLimit=e),type:"number"},null,8,["modelValue"])])),_:1}),(0,o.bF)(U,{label:"难度"},{default:(0,o.k6)((()=>[(0,o.bF)(W,{modelValue:u.difficulty,"onUpdate:modelValue":a[9]||(a[9]=e=>u.difficulty=e)},{default:(0,o.k6)((()=>[(0,o.bF)(R,{label:"简单",value:"简单"}),(0,o.bF)(R,{label:"中等",value:"中等"}),(0,o.bF)(R,{label:"困难",value:"困难"})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(U,{label:"可见性"},{default:(0,o.k6)((()=>[(0,o.bF)(K,{modelValue:u.visible,"onUpdate:modelValue":a[10]||(a[10]=e=>u.visible=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,o.bF)(i,{type:"primary",onClick:f},{default:(0,o.k6)((()=>a[23]||(a[23]=[(0,o.eW)("保存")]))),_:1}),(0,o.bF)(i,{onClick:a[11]||(a[11]=e=>n.value=!1)},{default:(0,o.k6)((()=>a[24]||(a[24]=[(0,o.eW)("取消")]))),_:1})])),_:1},8,["modelValue","title"])])}}};const na=(0,F.A)(sa,[["__scopeId","data-v-4cbb8137"]]);var ra=na,ua=l(12933);const da={class:"truncate-text"},ia={class:"truncate-text"},ca={class:"truncate-text"},pa={class:"dialog-footer"};var ma={__name:"SampleManagement",setup(e){const a=(0,d.lq)(),l=(0,d.rd)(),t=(0,g.KR)(a.params.id?Number(a.params.id):null),s=(0,g.KR)(""),n=(0,g.KR)([]),r=(0,g.KR)([]),u=(0,g.KR)(!1),c=(0,g.KR)(!1),p=(0,g.Kh)({id:null,problemId:null,sampleInput:"",sampleOutput:"",problemExplain:""}),m=(0,g.Kh)({current:1,size:5,total:0}),b=async()=>{try{let e,a={query:s.value,current:m.current,size:m.size};e=t.value?`/problem-samples/getByProblemId/${t.value}`:"/problem-samples/page";const l=await re.get(e,{params:a});if(200!==l.data.code)throw new Error(l.data.message||"获取示例失败");t.value?(n.value=l.data.data.map((e=>({...e,problemId:Number(e.problemId)}))),m.total=l.data.data.length):(n.value=l.data.data.records.map((e=>({...e,problemId:Number(e.problemId)}))),m.total=l.data.data.total)}catch(e){i.nk.error(e.message)}},k=e=>{m.current=e,b()},v=e=>{m.size=e,m.current=1,b()},f=()=>{c.value=!1,Object.assign(p,{id:null,problemId:t.value||null,sampleInput:"",sampleOutput:"",problemExplain:""}),u.value=!0},h=e=>{c.value=!0,Object.assign(p,{...e,problemId:null!==e.problemId&&void 0!==e.problemId?Number(e.problemId):null}),u.value=!0},F=async()=>{if(null===p.problemId||isNaN(p.problemId)||p.problemId<=0)i.nk.error("题目ID必须是一个有效的正整数");else if(p.sampleInput.trim())if(p.sampleOutput.trim())try{let e;if(c.value)e=await re.put("/problem-samples/updateById",p);else{const a=t.value?{...p,problemId:t.value}:{...p};e=await re.post("/problem-samples/create",a)}if(200!==e.data.code)throw new Error(e.data.message||"保存失败");i.nk.success(c.value?"示例更新成功":"示例添加成功"),u.value=!1,b()}catch(e){i.nk.error(e.message)}else i.nk.error("输出示例不能为空");else i.nk.error("输入示例不能为空")},y=e=>{ua.s.confirm("确定要删除此示例吗？此操作无法撤销。","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{w(e)})).catch((()=>{}))},w=async e=>{try{const a=await re.delete(`/problem-samples/deleteById/${e}`);if(200!==a.data.code)throw new Error(a.data.message||"删除失败");i.nk.success("删除成功"),b()}catch(a){i.nk.error(a.message)}},V=e=>{r.value=e},C=async()=>{ua.s.confirm("确定要批量删除选中的示例吗？此操作无法撤销。","批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const e=r.value.map((e=>e.id));try{const a=await re.post("/problem-samples/deleteBatch",e);if(200!==a.data.code)throw new Error(a.data.message||"批量删除失败");i.nk.success("批量删除成功"),r.value=[],b()}catch(a){i.nk.error(a.message)}})).catch((()=>{}))};(0,o.wB)((()=>a.params.id),(e=>{t.value=e?Number(e):null,b()}));const I=()=>{l.back()};return(0,o.sV)(b),(e,a)=>{const l=(0,o.g2)("el-button"),d=(0,o.g2)("el-input"),i=(0,o.g2)("el-col"),g=(0,o.g2)("el-row"),w=(0,o.g2)("el-table-column"),L=(0,o.g2)("el-tooltip"),E=(0,o.g2)("el-table"),A=(0,o.g2)("el-option"),x=(0,o.g2)("el-select"),R=(0,o.g2)("el-pagination"),W=(0,o.g2)("el-input-number"),z=(0,o.g2)("el-form-item"),U=(0,o.g2)("el-form"),K=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(g,{style:{"margin-bottom":"10px"},align:"middle",justify:"space-between"},{default:(0,o.k6)((()=>[t.value?((0,o.uX)(),(0,o.Wv)(l,{key:0,type:"primary",style:{"margin-bottom":"10px"},onClick:I},{default:(0,o.k6)((()=>a[8]||(a[8]=[(0,o.eW)("返回")]))),_:1})):(0,o.Q3)("",!0),(0,o.bF)(i,{span:12},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),placeholder:"搜索示例...",style:{width:"300px","margin-right":"10px"}},null,8,["modelValue"]),(0,o.bF)(l,{type:"primary",onClick:b},{default:(0,o.k6)((()=>a[9]||(a[9]=[(0,o.eW)("搜索")]))),_:1})])),_:1}),(0,o.bF)(i,{span:6,style:{"text-align":"right"}},{default:(0,o.k6)((()=>[(0,o.bF)(l,{type:"primary",onClick:f},{default:(0,o.k6)((()=>a[10]||(a[10]=[(0,o.eW)("添加示例")]))),_:1}),(0,o.bF)(l,{type:"danger",disabled:0===r.value.length,onClick:C},{default:(0,o.k6)((()=>a[11]||(a[11]=[(0,o.eW)("批量删除")]))),_:1},8,["disabled"])])),_:1})])),_:1}),(0,o.bF)(E,{data:n.value,border:!0,onSelectionChange:V},{default:(0,o.k6)((()=>[(0,o.bF)(w,{type:"selection",width:"55"}),(0,o.bF)(w,{label:"ID",width:"80",prop:"id"}),(0,o.bF)(w,{label:"题目ID",width:"100",prop:"problemId"}),(0,o.bF)(w,{label:"输入示例",width:"300"},{default:(0,o.k6)((e=>[(0,o.bF)(L,{effect:"dark",content:e.row.sampleInput,placement:"top"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",da,(0,_.v_)(e.row.sampleInput),1)])),_:2},1032,["content"])])),_:1}),(0,o.bF)(w,{label:"输出示例",width:"300"},{default:(0,o.k6)((e=>[(0,o.bF)(L,{effect:"dark",content:e.row.sampleOutput,placement:"top"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",ia,(0,_.v_)(e.row.sampleOutput),1)])),_:2},1032,["content"])])),_:1}),(0,o.bF)(w,{label:"示例解释",width:"300"},{default:(0,o.k6)((e=>[(0,o.bF)(L,{effect:"dark",content:e.row.problemExplain||"无",placement:"top"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",ca,(0,_.v_)(e.row.problemExplain||"无"),1)])),_:2},1032,["content"])])),_:1}),(0,o.bF)(w,{prop:"createdAt",label:"创建时间",width:"180"}),(0,o.bF)(w,{prop:"updatedAt",label:"更新时间"}),(0,o.bF)(w,{label:"操作",fixed:"right",width:"200"},{default:(0,o.k6)((e=>[(0,o.bF)(l,{size:"small",onClick:a=>h(e.row)},{default:(0,o.k6)((()=>a[12]||(a[12]=[(0,o.eW)("编辑")]))),_:2},1032,["onClick"]),(0,o.bF)(l,{size:"small",type:"danger",onClick:a=>y(e.row.id)},{default:(0,o.k6)((()=>a[13]||(a[13]=[(0,o.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,o.bF)(g,{style:{"margin-top":"10px"},justify:"space-between"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{span:2},{default:(0,o.k6)((()=>[(0,o.bF)(x,{modelValue:m.size,"onUpdate:modelValue":a[1]||(a[1]=e=>m.size=e),onChange:v},{default:(0,o.k6)((()=>[(0,o.bF)(A,{label:"5 条/页",value:5}),(0,o.bF)(A,{label:"10 条/页",value:10}),(0,o.bF)(A,{label:"20 条/页",value:20}),(0,o.bF)(A,{label:"50 条/页",value:50})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(i,{span:16},{default:(0,o.k6)((()=>[(0,o.bF)(R,{"current-page":m.current,"page-size":m.size,total:m.total,layout:"prev, pager, next",onCurrentChange:k},null,8,["current-page","page-size","total"])])),_:1})])),_:1}),(0,o.bF)(K,{modelValue:u.value,"onUpdate:modelValue":a[7]||(a[7]=e=>u.value=e),title:c.value?"编辑示例":"添加示例",draggable:!0},{default:(0,o.k6)((()=>[(0,o.bF)(U,{model:p},{default:(0,o.k6)((()=>[(0,o.bF)(z,{label:"题目ID",required:!0},{default:(0,o.k6)((()=>[(0,o.bF)(W,{modelValue:p.problemId,"onUpdate:modelValue":a[2]||(a[2]=e=>p.problemId=e),min:1,style:{width:"100%"},disabled:!!t.value},null,8,["modelValue","disabled"])])),_:1}),(0,o.bF)(z,{label:"输入示例",required:!0},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:p.sampleInput,"onUpdate:modelValue":a[3]||(a[3]=e=>p.sampleInput=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(z,{label:"输出示例",required:!0},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:p.sampleOutput,"onUpdate:modelValue":a[4]||(a[4]=e=>p.sampleOutput=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(z,{label:"示例解释"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:p.problemExplain,"onUpdate:modelValue":a[5]||(a[5]=e=>p.problemExplain=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,o.Lk)("span",pa,[(0,o.bF)(l,{type:"primary",onClick:F},{default:(0,o.k6)((()=>a[14]||(a[14]=[(0,o.eW)("保存")]))),_:1}),(0,o.bF)(l,{onClick:a[6]||(a[6]=e=>u.value=!1)},{default:(0,o.k6)((()=>a[15]||(a[15]=[(0,o.eW)("取消")]))),_:1})])])),_:1},8,["modelValue","title"])])}}};const ba=(0,F.A)(ma,[["__scopeId","data-v-13e46798"]]);var ka=ba;const va={class:"login-container"};var ga={__name:"TeacherLogin",setup(e){const a=(0,d.rd)(),l=(0,g.Kh)({username:"",password:""}),t=async()=>{try{await v.dispatch("login",l),i.nk.success("登录成功"),a.push("/admin/dashboard")}catch(e){i.nk.error(e.message||"登录失败")}};return(e,a)=>{const s=(0,o.g2)("el-input"),n=(0,o.g2)("el-form-item"),r=(0,o.g2)("el-button"),u=(0,o.g2)("el-form");return(0,o.uX)(),(0,o.CE)("div",va,[(0,o.bF)(u,{model:l,"label-width":"80px",class:"login-form"},{default:(0,o.k6)((()=>[(0,o.bF)(n,{label:"用户名"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:l.username,"onUpdate:modelValue":a[0]||(a[0]=e=>l.username=e),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),(0,o.bF)(n,{label:"密码"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:l.password,"onUpdate:modelValue":a[1]||(a[1]=e=>l.password=e),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{type:"primary",onClick:t},{default:(0,o.k6)((()=>a[2]||(a[2]=[(0,o.eW)("登录")]))),_:1})])),_:1})])),_:1},8,["model"])])}}};const fa=(0,F.A)(ga,[["__scopeId","data-v-0c4b4cfe"]]);var ha=fa,Fa={__name:"SubmissionManagement",setup(e){const a=(0,d.lq)(),l=(0,d.rd)(),t=(0,g.KR)(a.params.id||null),s=(0,g.KR)(""),n=(0,g.KR)([]),r=(0,g.KR)([]),u=(0,g.Kh)({current:1,size:10,total:0}),c=(0,g.KR)(!1),p=(0,g.KR)(0),m=(0,g.Kh)({id:null,code:"",score:0}),b=async()=>{try{const e=t.value?`/submissions/page/problem/${t.value}`:"/submissions/page",a=await re.get(e,{params:{query:s.value,current:u.current,size:u.size}});n.value=a.data.data.records,u.total=a.data.data.total}catch(e){i.nk.error("获取提交记录失败")}},k=e=>{u.current=e,b()},v=e=>{u.size=e,u.current=1,b()},f=e=>{r.value=e},h=async e=>{try{await re.delete(`/submissions/deleteById/${e}`),i.nk.success("删除成功"),b()}catch(a){i.nk.error("删除失败")}},F=async()=>{const e=r.value.map((e=>e.id));try{await re.post("/submissions/deleteBatch",e),i.nk.success("批量删除成功"),b()}catch(a){i.nk.error("批量删除失败")}},y=async e=>{try{const a=await re.get(`/submissions/detail/${e.id}`);Object.assign(m,a.data.data),p.value=m.score||0,c.value=!0}catch(a){i.nk.error("获取提交详情失败")}},w=async()=>{try{const e=await re.post(`/submissions/score/${m.id}`,null,{params:{score:p.value}});e.data.code>=200&&e.data.status<300?(i.nk.success("评分成功"),c.value=!1,b()):i.nk.error(` ${e.data.message}`)}catch(e){if(e.response){const{status:a,data:l}=e.response;400===a?i.nk.error(l.message||"评分失败，提交记录未通过验证"):i.nk.error(`评分失败，服务器返回状态码: ${a}`)}else e.request?i.nk.error("无法连接到服务器，请稍后再试"):i.nk.error("评分失败，请稍后再试")}},V=e=>{switch(e){case"Accepted":return"success";case"Wrong Answer":return"danger";case"Runtime Error":return"warning";default:return"info"}},C=()=>{l.back()};return(0,o.sV)(b),(e,a)=>{const l=(0,o.g2)("el-button"),d=(0,o.g2)("el-input"),i=(0,o.g2)("el-col"),g=(0,o.g2)("el-row"),I=(0,o.g2)("el-table-column"),L=(0,o.g2)("el-tag"),E=(0,o.g2)("el-table"),A=(0,o.g2)("el-option"),x=(0,o.g2)("el-select"),R=(0,o.g2)("el-pagination"),W=(0,o.g2)("el-form-item"),z=(0,o.g2)("el-input-number"),U=(0,o.g2)("el-form"),K=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(g,{style:{"margin-bottom":"10px"},align:"middle",justify:"space-between"},{default:(0,o.k6)((()=>[t.value?((0,o.uX)(),(0,o.Wv)(l,{key:0,type:"primary",style:{"margin-bottom":"10px"},onClick:C},{default:(0,o.k6)((()=>a[6]||(a[6]=[(0,o.eW)("返回")]))),_:1})):(0,o.Q3)("",!0),(0,o.bF)(i,{span:10},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),placeholder:"搜索提交记录...",style:{width:"300px","margin-right":"10px"}},null,8,["modelValue"]),(0,o.bF)(l,{type:"primary",onClick:b},{default:(0,o.k6)((()=>a[7]||(a[7]=[(0,o.eW)("搜索")]))),_:1})])),_:1}),(0,o.bF)(i,{span:6,style:{"text-align":"right"}},{default:(0,o.k6)((()=>[(0,o.bF)(l,{type:"danger",disabled:0===r.value.length,onClick:F},{default:(0,o.k6)((()=>a[8]||(a[8]=[(0,o.eW)("批量删除")]))),_:1},8,["disabled"])])),_:1})])),_:1}),(0,o.bF)(E,{data:n.value,border:"",onSelectionChange:f},{default:(0,o.k6)((()=>[(0,o.bF)(I,{type:"selection",width:"55"}),(0,o.bF)(I,{label:"ID",prop:"id",width:"80"}),(0,o.bF)(I,{label:"用户",prop:"userId",width:"150"}),(0,o.bF)(I,{label:"题目",prop:"problemId",width:"200"}),(0,o.bF)(I,{label:"状态",prop:"status",width:"120"},{default:(0,o.k6)((e=>[(0,o.bF)(L,{type:V(e.row.status)},{default:(0,o.k6)((()=>[(0,o.eW)((0,_.v_)(e.row.status),1)])),_:2},1032,["type"])])),_:1}),(0,o.bF)(I,{label:"运行时间(ms)",prop:"runtime",width:"150"}),(0,o.bF)(I,{label:"内存(KB)",prop:"memory",width:"150"}),(0,o.bF)(I,{label:"提交时间",prop:"createdAt",width:"180"}),(0,o.bF)(I,{label:"代码查重",prop:"duplicationRate",width:"180"}),(0,o.bF)(I,{label:"评分",prop:"score"}),(0,o.bF)(I,{label:"操作",fixed:"right",width:"300"},{default:(0,o.k6)((e=>[(0,o.bF)(l,{size:"small",type:"success",onClick:a=>y(e.row)},{default:(0,o.k6)((()=>a[9]||(a[9]=[(0,o.eW)("评分")]))),_:2},1032,["onClick"]),(0,o.bF)(l,{size:"small",type:"danger",onClick:a=>h(e.row.id)},{default:(0,o.k6)((()=>a[10]||(a[10]=[(0,o.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,o.bF)(g,{style:{"margin-top":"10px"},align:"middle",justify:"space-between"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{span:2},{default:(0,o.k6)((()=>[(0,o.bF)(x,{modelValue:u.size,"onUpdate:modelValue":a[1]||(a[1]=e=>u.size=e),onChange:v},{default:(0,o.k6)((()=>[(0,o.bF)(A,{label:"5 条/页",value:5}),(0,o.bF)(A,{label:"10 条/页",value:10}),(0,o.bF)(A,{label:"20 条/页",value:20}),(0,o.bF)(A,{label:"50 条/页",value:50})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(i,{span:16},{default:(0,o.k6)((()=>[(0,o.bF)(R,{"current-page":u.current,"page-size":u.size,total:u.total,layout:"prev, pager, next",onCurrentChange:k},null,8,["current-page","page-size","total"])])),_:1})])),_:1}),(0,o.bF)(K,{modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=e=>c.value=e),title:"评分"},{default:(0,o.k6)((()=>[(0,o.bF)(U,{model:m},{default:(0,o.k6)((()=>[(0,o.bF)(W,{label:"代码"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:m.code,"onUpdate:modelValue":a[2]||(a[2]=e=>m.code=e),type:"textarea",rows:10,disabled:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(W,{label:"评分"},{default:(0,o.k6)((()=>[(0,o.bF)(z,{modelValue:p.value,"onUpdate:modelValue":a[3]||(a[3]=e=>p.value=e),min:0,max:100},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,o.bF)(l,{type:"primary",onClick:w},{default:(0,o.k6)((()=>a[11]||(a[11]=[(0,o.eW)("确认")]))),_:1}),(0,o.bF)(l,{onClick:a[4]||(a[4]=e=>c.value=!1)},{default:(0,o.k6)((()=>a[12]||(a[12]=[(0,o.eW)("取消")]))),_:1})])),_:1},8,["modelValue"])])}}};const ya=(0,F.A)(Fa,[["__scopeId","data-v-67e4a920"]]);var wa=ya,_a={__name:"UserManagement",setup(e){const a=(0,g.KR)(""),l=(0,g.KR)([]),t=(0,g.KR)([]),s=(0,g.Kh)({current:1,size:10,total:0}),n=(0,g.KR)(!1),r=(0,g.Kh)({id:"",username:"",points:0}),u=async()=>{try{const e=await re.get("/users/page",{params:{query:a.value,current:s.current,size:s.size}});l.value=e.data.data.records,s.total=e.data.data.total}catch(e){i.nk.error("获取用户列表失败")}},d=e=>{s.current=e,u()},c=e=>{s.size=e,s.current=1,u()},p=e=>{t.value=e},m=async e=>{try{await re.delete(`/users/deleteUserById/${e}`),i.nk.success("删除用户成功"),u()}catch(a){i.nk.error("删除用户失败")}},b=async()=>{const e=t.value.map((e=>e.id));try{await re.post("/users/deleteBatch",e),i.nk.success("批量删除成功"),u()}catch(a){i.nk.error("批量删除失败")}},k=async(e,a)=>{ua.s.prompt(`请输入要给用户 ${a} 增加的积分:`,"增加积分",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[1-9]\d*$/,inputErrorMessage:"积分必须是正整数"}).then((async({value:a})=>{try{await re.put("/users/addByPoints",null,{params:{id:e,i:parseInt(a)}}),i.nk.success("积分增加成功"),u()}catch(l){i.nk.error("增加积分失败")}})).catch((()=>{i.nk.info("操作取消")}))};return(0,o.sV)(u),(e,i)=>{const v=(0,o.g2)("el-input"),g=(0,o.g2)("el-button"),f=(0,o.g2)("el-col"),h=(0,o.g2)("el-row"),F=(0,o.g2)("el-table-column"),y=(0,o.g2)("el-table"),w=(0,o.g2)("el-option"),_=(0,o.g2)("el-select"),V=(0,o.g2)("el-pagination"),C=(0,o.g2)("el-form-item"),I=(0,o.g2)("el-form"),L=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(h,{style:{"margin-bottom":"10px"},align:"middle",justify:"space-between"},{default:(0,o.k6)((()=>[(0,o.bF)(f,{span:12},{default:(0,o.k6)((()=>[(0,o.bF)(v,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=e=>a.value=e),placeholder:"搜索用户...",style:{width:"300px","margin-right":"10px"}},null,8,["modelValue"]),(0,o.bF)(g,{type:"primary",onClick:u},{default:(0,o.k6)((()=>i[7]||(i[7]=[(0,o.eW)("搜索")]))),_:1})])),_:1}),(0,o.bF)(f,{span:12,style:{"text-align":"right"}},{default:(0,o.k6)((()=>[(0,o.bF)(g,{type:"danger",disabled:0===t.value.length,onClick:b},{default:(0,o.k6)((()=>i[8]||(i[8]=[(0,o.eW)("批量删除")]))),_:1},8,["disabled"])])),_:1})])),_:1}),(0,o.bF)(y,{data:l.value,border:"",style:{width:"100%"},onSelectionChange:p},{default:(0,o.k6)((()=>[(0,o.bF)(F,{type:"selection",width:"55"}),(0,o.bF)(F,{prop:"id",label:"用户ID",width:"120"}),(0,o.bF)(F,{prop:"username",label:"用户名",width:"200"}),(0,o.bF)(F,{prop:"email",label:"邮箱",width:"200"}),(0,o.bF)(F,{prop:"role",label:"角色",width:"120"}),(0,o.bF)(F,{prop:"studentNumber",label:"学号",width:"200"}),(0,o.bF)(F,{prop:"level",label:"等级",width:"120"}),(0,o.bF)(F,{prop:"points",label:"AI点数",width:"120"}),(0,o.bF)(F,{prop:"totalScore",label:"总分",width:"120"}),(0,o.bF)(F,{prop:"successfulSubmissions",label:"成功提交数",width:"120"}),(0,o.bF)(F,{prop:"totalSubmissions",label:"总提交数",width:"120"}),(0,o.bF)(F,{prop:"createdAt",label:"创建时间",width:"180"}),(0,o.bF)(F,{prop:"updatedAt",label:"更新时间",width:"180"}),(0,o.bF)(F,{prop:"lastLogin",label:"最后登录时间",width:"380"}),(0,o.bF)(F,{label:"操作",fixed:"right",width:"200"},{default:(0,o.k6)((e=>[(0,o.bF)(g,{size:"small",type:"primary",onClick:a=>k(e.row.id,e.row.username)},{default:(0,o.k6)((()=>i[9]||(i[9]=[(0,o.eW)("增加积分")]))),_:2},1032,["onClick"]),(0,o.bF)(g,{size:"small",type:"danger",onClick:a=>m(e.row.id)},{default:(0,o.k6)((()=>i[10]||(i[10]=[(0,o.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,o.bF)(h,{style:{"margin-top":"10px"},type:"flex",justify:"space-between",align:"middle"},{default:(0,o.k6)((()=>[(0,o.bF)(f,{span:2},{default:(0,o.k6)((()=>[(0,o.bF)(_,{modelValue:s.size,"onUpdate:modelValue":i[1]||(i[1]=e=>s.size=e),placeholder:"每页显示",style:{width:"100%"},onChange:c},{default:(0,o.k6)((()=>[(0,o.bF)(w,{label:"5 条/页",value:5}),(0,o.bF)(w,{label:"10 条/页",value:10}),(0,o.bF)(w,{label:"20 条/页",value:20}),(0,o.bF)(w,{label:"50 条/页",value:50})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(f,{span:16},{default:(0,o.k6)((()=>[(0,o.bF)(V,{"current-page":s.current,"page-size":s.size,total:s.total,layout:"prev, pager, next",style:{"text-align":"right"},onCurrentChange:d},null,8,["current-page","page-size","total"])])),_:1})])),_:1}),(0,o.bF)(L,{modelValue:n.value,"onUpdate:modelValue":i[6]||(i[6]=e=>n.value=e),title:"增加AI点数"},{default:(0,o.k6)((()=>[(0,o.bF)(I,{model:r},{default:(0,o.k6)((()=>[(0,o.bF)(C,{label:"用户ID"},{default:(0,o.k6)((()=>[(0,o.bF)(v,{modelValue:r.id,"onUpdate:modelValue":i[2]||(i[2]=e=>r.id=e),disabled:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(C,{label:"用户名"},{default:(0,o.k6)((()=>[(0,o.bF)(v,{modelValue:r.username,"onUpdate:modelValue":i[3]||(i[3]=e=>r.username=e),disabled:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(C,{label:"增加点数"},{default:(0,o.k6)((()=>[(0,o.bF)(v,{modelValue:r.points,"onUpdate:modelValue":i[4]||(i[4]=e=>r.points=e),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,o.bF)(g,{type:"primary",onClick:e.submitAiPoints},{default:(0,o.k6)((()=>i[11]||(i[11]=[(0,o.eW)("确认")]))),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:i[5]||(i[5]=e=>n.value=!1)},{default:(0,o.k6)((()=>i[12]||(i[12]=[(0,o.eW)("取消")]))),_:1})])),_:1},8,["modelValue"])])}}};const Va=(0,F.A)(_a,[["__scopeId","data-v-0b1e736e"]]);var Ca=Va;const Ia={class:"truncate-text"};var La={__name:"CommentManagement",setup(e){const a=(0,g.KR)(""),l=(0,g.KR)([]),t=(0,g.KR)([]),s=(0,g.Kh)({current:1,size:10,total:0}),n=async()=>{try{const e=await re.get("/comments/page",{params:{query:a.value,current:s.current,size:s.size}});l.value=e.data.data.records,s.total=e.data.data.total}catch(e){i.nk.error("获取评论列表失败")}},r=e=>{s.current=e,n()},u=e=>{s.size=e,s.current=1,n()},d=e=>{t.value=e},c=async e=>{try{await re.delete(`/comments/delete/${e}`),i.nk.success("删除评论成功"),n()}catch(a){i.nk.error("删除评论失败")}},p=async()=>{const e=t.value.map((e=>e.id));console.log("批量删除的评论ID：",e);try{await re.post("/comments/deleteBatch",e),i.nk.success("批量删除成功"),n()}catch(a){i.nk.error("批量删除失败")}};return(0,o.sV)(n),(e,i)=>{const m=(0,o.g2)("el-input"),b=(0,o.g2)("el-button"),k=(0,o.g2)("el-col"),v=(0,o.g2)("el-row"),g=(0,o.g2)("el-table-column"),f=(0,o.g2)("el-tooltip"),h=(0,o.g2)("el-table"),F=(0,o.g2)("el-option"),y=(0,o.g2)("el-select"),w=(0,o.g2)("el-pagination");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(v,{style:{"margin-bottom":"10px"},align:"middle",justify:"space-between"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{span:12},{default:(0,o.k6)((()=>[(0,o.bF)(m,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=e=>a.value=e),placeholder:"搜索评论...",style:{width:"300px","margin-right":"10px"}},null,8,["modelValue"]),(0,o.bF)(b,{type:"primary",onClick:n},{default:(0,o.k6)((()=>i[2]||(i[2]=[(0,o.eW)("搜索")]))),_:1})])),_:1}),(0,o.bF)(k,{span:12,style:{"text-align":"right"}},{default:(0,o.k6)((()=>[(0,o.bF)(b,{type:"danger",disabled:0===t.value.length,onClick:p},{default:(0,o.k6)((()=>i[3]||(i[3]=[(0,o.eW)(" 批量删除 ")]))),_:1},8,["disabled"])])),_:1})])),_:1}),(0,o.bF)(h,{data:l.value,border:"",onSelectionChange:d},{default:(0,o.k6)((()=>[(0,o.bF)(g,{type:"selection",width:"55"}),(0,o.bF)(g,{prop:"id",label:"ID",width:"80"}),(0,o.bF)(g,{prop:"username",label:"用户名",width:"150"}),(0,o.bF)(g,{prop:"problemTitle",label:"题目标题",width:"200"}),(0,o.bF)(g,{prop:"comment",label:"评论内容",width:"300"},{default:(0,o.k6)((e=>[(0,o.bF)(f,{effect:"dark",content:e.row.comment,placement:"top"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",Ia,(0,_.v_)(e.row.comment),1)])),_:2},1032,["content"])])),_:1}),(0,o.bF)(g,{prop:"createdAt",label:"发布时间",width:"180"}),(0,o.bF)(g,{prop:"updatedAt",label:"更新时间"}),(0,o.bF)(g,{label:"操作",fixed:"right",width:"200"},{default:(0,o.k6)((e=>[(0,o.bF)(b,{size:"small",type:"danger",onClick:a=>c(e.row.id)},{default:(0,o.k6)((()=>i[4]||(i[4]=[(0,o.eW)(" 删除 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,o.bF)(v,{style:{"margin-top":"10px"},justify:"space-between"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{span:2},{default:(0,o.k6)((()=>[(0,o.bF)(y,{modelValue:s.size,"onUpdate:modelValue":i[1]||(i[1]=e=>s.size=e),onChange:u},{default:(0,o.k6)((()=>[(0,o.bF)(F,{label:"5 条/页",value:5}),(0,o.bF)(F,{label:"10 条/页",value:10}),(0,o.bF)(F,{label:"20 条/页",value:20}),(0,o.bF)(F,{label:"50 条/页",value:50})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(k,{span:16},{default:(0,o.k6)((()=>[(0,o.bF)(w,{"current-page":s.current,"page-size":s.size,total:s.total,layout:"prev, pager, next",onCurrentChange:r},null,8,["current-page","page-size","total"])])),_:1})])),_:1})])}}};const Ea=(0,F.A)(La,[["__scopeId","data-v-96b40cc2"]]);var Aa=Ea,xa={__name:"LeaderboardView",setup(e){const a=(0,g.KR)("topPass"),l=(0,g.KR)([]),t=async e=>{let a="";switch(e){case"topPass":a="/leaderboard/top-pass";break;case"topAccuracy":a="/leaderboard/top-accuracy";break;case"topScore":a="/leaderboard/top-score";break}try{const e=await re.get(a,{params:{limit:10}});l.value=e.data.data}catch(t){i.nk.error("获取排行榜失败")}},s=e=>{t(e.props.name)};return(0,o.sV)((()=>{t(a.value)})),(e,t)=>{const n=(0,o.g2)("el-tab-pane"),r=(0,o.g2)("el-tabs"),u=(0,o.g2)("el-table-column"),d=(0,o.g2)("el-table");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(r,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),onTabClick:s},{default:(0,o.k6)((()=>[(0,o.bF)(n,{label:"通过数最多",name:"topPass"}),(0,o.bF)(n,{label:"正确率最高",name:"topAccuracy"}),(0,o.bF)(n,{label:"总得分最高",name:"topScore"})])),_:1},8,["modelValue"]),(0,o.bF)(d,{data:l.value,border:"",style:{width:"100%"}},{default:(0,o.k6)((()=>[(0,o.bF)(u,{type:"index",label:"排名",width:"80"}),(0,o.bF)(u,{prop:"username",label:"用户名",width:"200"}),(0,o.bF)(u,{prop:"role",label:"角色",width:"120"}),(0,o.bF)(u,{prop:"successfulSubmissions",label:"通过数",width:"120"}),(0,o.bF)(u,{prop:"totalSubmissions",label:"总提交数",width:"120"}),(0,o.bF)(u,{prop:"accuracy",label:"正确率"},{default:(0,o.k6)((e=>[(0,o.eW)((0,_.v_)((e.row.successfulSubmissions/e.row.totalSubmissions*100).toFixed(2))+"% ",1)])),_:1}),(0,o.bF)(u,{prop:"totalScore",label:"总得分",width:"120"})])),_:1},8,["data"])])}}};const Ra=xa;var Wa=Ra;const za={class:"problem-container"},Ua={key:0},Ka={class:"meta-info"},Sa={class:"description"},Xa={key:1,class:"loading"},Da={key:0},qa={class:"code-block"},Ba={key:1},Pa={class:"error"},ja={key:2,class:"loading"},Oa={key:0},Qa={key:0},Ja={key:0},Ta={key:1},Na={key:2},Za={key:3},Ya={key:4},Ma={key:1},Ga={class:"error"},Ha={key:2,class:"loading"},$a={class:"comment-header"},el={class:"username"},al={class:"time"},ll=["onClick"],tl={class:"comment-body"};var ol={__name:"ProblemDisplay",setup(e){const a=(0,d.lq)(),l=(0,g.KR)("description"),t=(0,g.KR)(null),s=(0,g.KR)(null),n=(0,g.KR)(null),r=(0,g.KR)(null),u=(0,g.KR)(null),c=(0,g.KR)(null),p=(0,g.KR)(null),m=(0,g.KR)([]),b=(0,g.KR)({content:""}),k=async e=>{try{const a=await re.get(`/problems/getById/${e}`);200===a.data.code&&(t.value=a.data.data)}catch(a){console.error("加载题目信息失败:",a.message)}},v=async e=>{try{const a=await re.get(`/problem-answers/getSubmit?problemId=${e}`);200===a.data.code?s.value=a.data.data:n.value=a.data.message||"暂无题解"}catch(a){n.value="加载题解失败",console.error("加载题解失败:",a.message)}},f=async e=>{try{const a=await re.get(`/submissions/getSubmissionByUserAndProblem?problemId=${e}`);200===a.data.code?(r.value=a.data.data,"Accepted"===a.data.data.status&&h(e)):u.value=a.data.message||"暂无提交记录"}catch(a){u.value="加载提交记录失败",console.error("加载提交记录失败:",a.message)}},h=async e=>{try{const a=await re.get(`/submissions/rank/${e}`);200===a.data.code?c.value=a.data.data||{}:(console.error("获取耗时排名失败:",a.data.message),c.value={rank:-1,total:0,percentage:0,equalRankCount:0})}catch(a){console.error("获取耗时排名失败:",a.message),c.value={rank:-1,total:0,percentage:0,equalRankCount:0}}},F=async e=>{try{const a=await re.get(`/comments/problem/${e}`);200===a.data.code&&(m.value=a.data.data)}catch(a){i.nk.error("加载评论失败")}},y=async()=>{if(b.value.content.trim())try{const e=await re.post("/comments",{problemId:a.params.id,comment:b.value.content});200===e.data.code?(i.nk.success("评论发布成功"),F(a.params.id),b.value.content=""):i.nk.error(e.data.message||"评论发布失败")}catch(e){i.nk.error("评论发布失败："+e.message)}else i.nk.warning("评论内容不能为空")},w=async e=>{try{const l=await re.delete(`/comments/delete/${e}`);200===l.data.code?(i.nk.success("评论删除成功"),F(a.params.id)):i.nk.error(l.data.message||"评论删除失败")}catch(l){i.nk.error("评论删除失败："+l.message)}},V=async()=>{try{const e=await re.get("/users/getUserByLogin");200===e.data.code&&(p.value=e.data.data.user.id,console.log(p.value))}catch(e){console.error("获取当前用户失败",e.message)}},C=a.params.id;return(0,o.sV)((()=>{k(C),F(C),v(C),f(C),V()})),(e,a)=>{const d=(0,o.g2)("el-icon"),i=(0,o.g2)("el-tab-pane"),k=(0,o.g2)("el-input"),v=(0,o.g2)("el-form-item"),f=(0,o.g2)("el-button"),h=(0,o.g2)("el-form"),F=(0,o.g2)("el-tabs");return(0,o.uX)(),(0,o.CE)("div",za,[(0,o.bF)(F,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e),type:"card",class:"no-border-tabs"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{label:"题目描述",name:"description"},{default:(0,o.k6)((()=>[t.value?((0,o.uX)(),(0,o.CE)("div",Ua,[(0,o.Lk)("h1",null,(0,_.v_)(t.value.title),1),(0,o.Lk)("div",Ka,[(0,o.Lk)("span",{class:(0,_.C4)(["difficulty",t.value.difficulty])},(0,_.v_)(t.value.difficulty),3),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((t.value.tags??"").split(","),(e=>((0,o.uX)(),(0,o.CE)("span",{key:e,class:"tag"},(0,_.v_)(e.trim()||"无标签"),1)))),128))]),(0,o.Lk)("p",Sa,(0,_.v_)(t.value.description),1),a[2]||(a[2]=(0,o.Lk)("h3",null,"输入描述",-1)),(0,o.Lk)("p",null,(0,_.v_)(t.value.inputDescription),1),a[3]||(a[3]=(0,o.Lk)("h3",null,"输出描述",-1)),(0,o.Lk)("p",null,(0,_.v_)(t.value.outputDescription),1)])):((0,o.uX)(),(0,o.CE)("div",Xa,[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.Rhj))])),_:1}),a[4]||(a[4]=(0,o.eW)(" 正在加载题目数据... "))]))])),_:1}),(0,o.bF)(i,{label:"题解",name:"solution"},{default:(0,o.k6)((()=>[s.value?((0,o.uX)(),(0,o.CE)("div",Da,[a[5]||(a[5]=(0,o.Lk)("h3",null,"题解思路",-1)),(0,o.Lk)("p",null,(0,_.v_)(s.value.solutionDescription),1),a[6]||(a[6]=(0,o.Lk)("h3",null,"参考代码",-1)),(0,o.Lk)("pre",qa,(0,_.v_)(s.value.code),1)])):n.value?((0,o.uX)(),(0,o.CE)("div",Ba,[(0,o.Lk)("p",Pa,(0,_.v_)(n.value),1)])):((0,o.uX)(),(0,o.CE)("div",ja,[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.Rhj))])),_:1}),a[7]||(a[7]=(0,o.eW)(" 正在加载题解... "))]))])),_:1}),(0,o.bF)(i,{label:"提交记录",name:"submissions"},{default:(0,o.k6)((()=>[r.value?((0,o.uX)(),(0,o.CE)("div",Oa,[a[9]||(a[9]=(0,o.Lk)("h3",null,"提交记录",-1)),(0,o.Lk)("p",null,"状态: "+(0,_.v_)(r.value.status),1),(0,o.Lk)("p",null,"提交时间: "+(0,_.v_)(r.value.createdAt),1),(0,o.Lk)("p",null,"运行时间: "+(0,_.v_)(r.value.runtime)+" ms",1),(0,o.Lk)("p",null,"内存使用: "+(0,_.v_)(r.value.memory)+" KB",1),"Accepted"===r.value.status?((0,o.uX)(),(0,o.CE)("div",Qa,[a[8]||(a[8]=(0,o.Lk)("h3",null,"耗时排名",-1)),c.value?((0,o.uX)(),(0,o.CE)("p",Ja,"排名: 第 "+(0,_.v_)(c.value.rank)+" 名",1)):((0,o.uX)(),(0,o.CE)("p",Ta,"暂无排名信息")),c.value?((0,o.uX)(),(0,o.CE)("p",Na,"超越用户: "+(0,_.v_)(c.value.percentage.toFixed(2))+"%",1)):((0,o.uX)(),(0,o.CE)("p",Za,"暂无超越百分比信息")),c.value?((0,o.uX)(),(0,o.CE)("p",Ya,"与当前排名相同的用户数量: "+(0,_.v_)(c.value.equalRankCount),1)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)])):u.value?((0,o.uX)(),(0,o.CE)("div",Ma,[(0,o.Lk)("p",Ga,(0,_.v_)(u.value),1)])):((0,o.uX)(),(0,o.CE)("div",Ha,[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.Rhj))])),_:1}),a[10]||(a[10]=(0,o.eW)(" 正在加载提交记录... "))]))])),_:1}),(0,o.bF)(i,{label:"评论",name:"comments"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(m.value,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"comment"},[(0,o.Lk)("div",$a,[(0,o.Lk)("span",el,(0,_.v_)(e.username),1),(0,o.Lk)("span",al,(0,_.v_)(e.createdAt),1),e.userId===p.value?((0,o.uX)(),(0,o.CE)("div",{key:0,style:{width:"10px",height:"10px","justify-self":"end"},onClick:a=>w(e.id)},[(0,o.bF)((0,g.R1)(me.epd))],8,ll)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",tl,(0,_.v_)(e.comment),1)])))),128)),(0,o.bF)(h,{ref:"commentForm",model:b.value,class:"comment-form"},{default:(0,o.k6)((()=>[(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(k,{modelValue:b.value.content,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value.content=e),type:"textarea",placeholder:"请输入评论内容"},null,8,["modelValue"])])),_:1}),(0,o.bF)(f,{type:"primary",onClick:y},{default:(0,o.k6)((()=>a[11]||(a[11]=[(0,o.eW)("发布评论")]))),_:1})])),_:1},8,["model"])])),_:1})])),_:1},8,["modelValue"])])}}};const sl=(0,F.A)(ol,[["__scopeId","data-v-4ba872dc"]]);var nl=sl;const rl={class:"test-case-container"},ul={key:0,class:"loading"},dl={key:1,class:"no-data"},il={key:2},cl={class:"test-case-details"},pl={class:"input-section"},ml={class:"output-section"},bl={key:0,class:"explanation-section"},kl={key:0,class:"no-data"},vl={key:1},gl={class:"test-case-result"},fl={key:0,class:"result-pass"},hl={key:1,class:"result-fail"},Fl={class:"result-fail-content"},yl={key:0},wl={key:2,class:"result-fail"},_l={class:"result-fail-content"},Vl={class:"output-details"};var Cl={__name:"TestCaseDisplay",props:{problemId:{type:Number,required:!0},testResults:{type:Array,default:()=>[]}},setup(e){const a=e,l=(0,g.KR)([]),t=(0,g.KR)("case-1"),s=(0,g.KR)("cases"),n=(0,g.KR)("result-1"),r=(0,g.KR)(!1),u=async()=>{r.value=!0;try{const e=await re.get(`/problem-samples/getByProblemId/${a.problemId}`);200===e.data.code?(l.value=e.data.data||[],console.log("加载测试用例成功:",l.value)):console.error("加载测试用例失败:",e.data.message)}catch(e){console.error("加载测试用例失败:",e.message)}finally{r.value=!1}};return(0,o.sV)(u),(a,u)=>{const d=(0,o.g2)("el-icon"),i=(0,o.g2)("el-tab-pane"),c=(0,o.g2)("el-tabs");return(0,o.uX)(),(0,o.CE)("div",rl,[(0,o.bF)(c,{modelValue:s.value,"onUpdate:modelValue":u[2]||(u[2]=e=>s.value=e)},{default:(0,o.k6)((()=>[(0,o.bF)(i,{label:"测试用例",name:"cases"},{default:(0,o.k6)((()=>[r.value?((0,o.uX)(),(0,o.CE)("div",ul,[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.Rhj))])),_:1}),u[3]||(u[3]=(0,o.eW)(" 正在加载测试用例... "))])):0===l.value.length?((0,o.uX)(),(0,o.CE)("div",dl," 暂无测试用例 ")):((0,o.uX)(),(0,o.CE)("div",il,[(0,o.bF)(c,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=e=>t.value=e)},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.value,((e,a)=>((0,o.uX)(),(0,o.Wv)(i,{key:a,label:`Case ${a+1}`,name:`case-${a+1}`},{default:(0,o.k6)((()=>[(0,o.Lk)("div",cl,[(0,o.Lk)("div",pl,[u[4]||(u[4]=(0,o.Lk)("h4",null,"输入:",-1)),(0,o.Lk)("pre",null,(0,_.v_)(e.sampleInput||"无"),1)]),(0,o.Lk)("div",ml,[u[5]||(u[5]=(0,o.Lk)("h4",null,"期望输出:",-1)),(0,o.Lk)("pre",null,(0,_.v_)(e.sampleOutput),1)]),e.problemExplain?((0,o.uX)(),(0,o.CE)("div",bl,[u[6]||(u[6]=(0,o.Lk)("h4",null,"解释:",-1)),(0,o.Lk)("pre",null,(0,_.v_)(e.problemExplain),1)])):(0,o.Q3)("",!0)])])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])]))])),_:1}),(0,o.bF)(i,{label:"测试结果",name:"results"},{default:(0,o.k6)((()=>[0===e.testResults.length?((0,o.uX)(),(0,o.CE)("div",kl," 暂无测试结果 ")):((0,o.uX)(),(0,o.CE)("div",vl,[(0,o.bF)(c,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=e=>n.value=e)},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.testResults,((e,a)=>((0,o.uX)(),(0,o.Wv)(i,{key:a,label:`Result ${a+1}`,name:`result-${a+1}`},{default:(0,o.k6)((()=>[(0,o.Lk)("div",gl,[u[10]||(u[10]=(0,o.Lk)("h3",null,"执行结果",-1)),"pass"===e.status?((0,o.uX)(),(0,o.CE)("div",fl,[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.Jlk))])),_:1}),(0,o.eW)(" 通过 执行用时: "+(0,_.v_)(1e3*e.time)+" ms ",1),(0,o.Lk)("p",null,"消耗内存: "+(0,_.v_)(e.memory)+" KB",1)])):"error"===e.status?((0,o.uX)(),(0,o.CE)("div",hl,[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.bm))])),_:1}),u[7]||(u[7]=(0,o.eW)(" 运行错误 ")),(0,o.Lk)("div",Fl,(0,_.v_)(e.message),1),e.detail?((0,o.uX)(),(0,o.CE)("p",yl,"错误详情: "+(0,_.v_)(e.detail),1)):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("div",wl,[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.bm))])),_:1}),u[8]||(u[8]=(0,o.eW)(" 未通过 ")),(0,o.Lk)("div",_l,(0,_.v_)(e.message),1)])),(0,o.Lk)("div",Vl,[u[9]||(u[9]=(0,o.Lk)("h4",null,"实际输出:",-1)),(0,o.Lk)("pre",null,(0,_.v_)(e.output),1)])])])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])]))])),_:1})])),_:1},8,["modelValue"])])}}};const Il=(0,F.A)(Cl,[["__scopeId","data-v-232d65be"]]);var Ll=Il;const El={class:"problem-page"},Al={class:"action-bar"},xl={class:"content-container"},Rl={class:"problem-section"},Wl={class:"code-section"};var zl={__name:"DescriptionView",setup(e){const a=(0,d.lq)(),l=(0,d.rd)(),t=(0,g.KR)(a.params.id),s=(0,g.KR)({title:"",description:"",inputDescription:"",outputDescription:""}),n=(0,g.KR)(""),r=(0,g.KR)([]),u=(0,g.KR)([]),c=async()=>{try{const e=await re.get(`/problems/getById/${t.value}`);200===e.data.code?(s.value=e.data.data,u.value=e.data.data.samples||[],console.log("测试用例:",u.value)):console.error("加载题目失败:",e.data.message)}catch(e){console.error("加载题目失败:",e)}},p=async()=>{console.log("提交的代码:",n.value),console.log("题目 ID:",t.value);try{const e=await re.post(`/submissions/submit/${t.value}`,{sourceCode:n.value,languageId:52});200===e.data.code?(console.log("提交成功，评测结果:",e.data.data),r.value=[{status:e.data.data.status,time:e.data.data.runtime,memory:e.data.data.memory}],i.nk.success("代码提交成功，评测通过！")):(console.error("评测失败:",e.data.message),r.value=[{status:"fail",message:e.data.message}],i.nk.error(e.data.message||"代码未通过评测"))}catch(e){console.error("提交失败:",e),i.nk.error("提交代码失败，请稍后再试")}},m=async()=>{if(r.value=[],u.value.length)for(let a=0;a<u.value.length;a++){const l=u.value[a];console.log("当前测试用例:",l);const t={languageId:52,sourceCode:n.value};try{const e=await re.post(`/submissions/test-case/submit/${l.id}`,t),a=e.data;200===a.code?r.value.push({status:"pass",time:a.data.time,memory:a.data.memory,output:a.data.stdout}):r.value.push({status:"fail",message:a.message,detail:a.data})}catch(e){r.value.push({status:"error",message:e.message})}}else i.nk.warning("该题目暂时没有测试用例")},b=()=>{l.back()};return(0,o.sV)(c),(e,a)=>{const l=(0,o.g2)("el-button");return(0,o.uX)(),(0,o.CE)("div",El,[(0,o.Lk)("div",Al,[(0,o.bF)(l,{type:"info",onClick:b},{default:(0,o.k6)((()=>a[1]||(a[1]=[(0,o.eW)("返回")]))),_:1}),(0,o.bF)(l,{type:"primary",disabled:!u.value.length,onClick:p},{default:(0,o.k6)((()=>a[2]||(a[2]=[(0,o.eW)(" 提交代码 ")]))),_:1},8,["disabled"]),(0,o.bF)(l,{type:"success",disabled:!u.value.length,onClick:m},{default:(0,o.k6)((()=>a[3]||(a[3]=[(0,o.eW)(" 运行测试 ")]))),_:1},8,["disabled"])]),(0,o.Lk)("div",xl,[(0,o.Lk)("div",Rl,[(0,o.bF)(nl,{"problem-data":s.value},null,8,["problem-data"])]),(0,o.Lk)("div",Wl,[(0,o.bF)(Ue,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e)},null,8,["modelValue"]),(0,o.bF)(Ll,{"problem-id":t.value,"test-results":r.value},null,8,["problem-id","test-results"])])])])}}};const Ul=(0,F.A)(zl,[["__scopeId","data-v-c684fcda"]]);var Kl=Ul;const Sl={class:"truncate-text"},Xl={class:"truncate-text"};var Dl={__name:"ProblemAnswers",setup(e){const a=(0,d.lq)(),l=(0,d.rd)(),t=(0,g.KR)(a.params.id||null),s=(0,g.KR)(""),n=(0,g.KR)([]),r=(0,g.KR)([]),u=(0,g.Kh)({current:1,size:10,total:0}),c=(0,g.KR)(!1),p=(0,g.Kh)({id:null,problemId:t.value,solution:"",code:""}),m=async()=>{try{const e=t.value?`/problem-answers/page/${t.value}`:"/problem-answers/page",a=await re.get(e,{params:{query:s.value,current:u.current,size:u.size}});n.value=a.data.data.records,u.total=a.data.data.total}catch(e){i.nk.error("获取答案列表失败")}},b=e=>{u.current=e,m()},k=e=>{u.size=e,u.current=1,m()},v=e=>{r.value=e},f=()=>{Object.assign(p,{id:null,solution:"",code:""}),c.value=!0},h=e=>{Object.assign(p,e),c.value=!0},F=async()=>{try{p.id?(await re.put("/problem-answers/update",p),i.nk.success("答案更新成功")):(await re.post("/problem-answers/create",p),i.nk.success("答案添加成功")),c.value=!1,m()}catch(e){i.nk.error("保存答案失败")}},y=async e=>{try{await re.delete(`/problem-answers/delete/${e}`),i.nk.success("删除成功"),m()}catch(a){i.nk.error("删除失败")}},w=async()=>{const e=r.value.map((e=>e.id));try{await re.post("/problem-answers/deleteBatch",e),i.nk.success("批量删除成功"),m()}catch(a){i.nk.error("批量删除失败")}},V=()=>{l.back()};return(0,o.sV)(m),(e,a)=>{const l=(0,o.g2)("el-button"),d=(0,o.g2)("el-input"),i=(0,o.g2)("el-col"),g=(0,o.g2)("el-row"),C=(0,o.g2)("el-table-column"),I=(0,o.g2)("el-tooltip"),L=(0,o.g2)("el-table"),E=(0,o.g2)("el-option"),A=(0,o.g2)("el-select"),x=(0,o.g2)("el-pagination"),R=(0,o.g2)("el-form-item"),W=(0,o.g2)("el-form"),z=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(g,{style:{"margin-bottom":"10px"},align:"middle",justify:"space-between"},{default:(0,o.k6)((()=>[t.value?((0,o.uX)(),(0,o.Wv)(l,{key:0,type:"primary",style:{"margin-bottom":"10px"},onClick:V},{default:(0,o.k6)((()=>a[7]||(a[7]=[(0,o.eW)("返回")]))),_:1})):(0,o.Q3)("",!0),(0,o.bF)(i,{span:10},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),placeholder:"搜索答案记录...",style:{width:"300px","margin-right":"10px"}},null,8,["modelValue"]),(0,o.bF)(l,{type:"primary",onClick:m},{default:(0,o.k6)((()=>a[8]||(a[8]=[(0,o.eW)("搜索")]))),_:1})])),_:1}),(0,o.bF)(i,{span:6,style:{"text-align":"right"}},{default:(0,o.k6)((()=>[(0,o.bF)(l,{type:"primary",onClick:f},{default:(0,o.k6)((()=>a[9]||(a[9]=[(0,o.eW)("添加答案")]))),_:1}),(0,o.bF)(l,{type:"danger",disabled:0===r.value.length,onClick:w},{default:(0,o.k6)((()=>a[10]||(a[10]=[(0,o.eW)("批量删除")]))),_:1},8,["disabled"])])),_:1})])),_:1}),(0,o.bF)(L,{data:n.value,onSelectionChange:v},{default:(0,o.k6)((()=>[(0,o.bF)(C,{type:"selection",width:"55"}),(0,o.bF)(C,{label:"ID",prop:"id",width:"80"}),(0,o.bF)(C,{label:"题目标题",prop:"problemTitle",width:"200"}),(0,o.bF)(C,{label:"创建者",prop:"username",width:"150"}),(0,o.bF)(C,{label:"解题思路",prop:"solutionDescription",width:"300"},{default:(0,o.k6)((e=>[(0,o.bF)(I,{effect:"dark",content:e.row.solutionDescription,placement:"top"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",Sl,(0,_.v_)(e.row.solutionDescription),1)])),_:2},1032,["content"])])),_:1}),(0,o.bF)(C,{label:"代码",prop:"code",width:"300"},{default:(0,o.k6)((e=>[(0,o.bF)(I,{effect:"dark",content:e.row.code,placement:"top"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",Xl,(0,_.v_)(e.row.code),1)])),_:2},1032,["content"])])),_:1}),(0,o.bF)(C,{label:"创建时间",prop:"createdAt"}),(0,o.bF)(C,{label:"操作",fixed:"right",width:"200"},{default:(0,o.k6)((e=>[(0,o.bF)(l,{size:"small",type:"primary",onClick:a=>h(e.row)},{default:(0,o.k6)((()=>a[11]||(a[11]=[(0,o.eW)("编辑")]))),_:2},1032,["onClick"]),(0,o.bF)(l,{size:"small",type:"danger",onClick:a=>y(e.row.id)},{default:(0,o.k6)((()=>a[12]||(a[12]=[(0,o.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,o.bF)(g,{style:{"margin-top":"10px"},align:"middle",justify:"space-between"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{span:2},{default:(0,o.k6)((()=>[(0,o.bF)(A,{modelValue:u.size,"onUpdate:modelValue":a[1]||(a[1]=e=>u.size=e),onChange:k},{default:(0,o.k6)((()=>[(0,o.bF)(E,{label:"5 条/页",value:5}),(0,o.bF)(E,{label:"10 条/页",value:10}),(0,o.bF)(E,{label:"20 条/页",value:20}),(0,o.bF)(E,{label:"50 条/页",value:50})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(i,{span:16},{default:(0,o.k6)((()=>[(0,o.bF)(x,{"current-page":u.current,"page-size":u.size,total:u.total,layout:"prev, pager, next",onCurrentChange:b},null,8,["current-page","page-size","total"])])),_:1})])),_:1}),(0,o.bF)(z,{modelValue:c.value,"onUpdate:modelValue":a[6]||(a[6]=e=>c.value=e),title:"添加/编辑答案"},{default:(0,o.k6)((()=>[(0,o.bF)(W,{model:p},{default:(0,o.k6)((()=>[(0,o.bF)(R,{label:"题目ID"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:p.problemId,"onUpdate:modelValue":a[2]||(a[2]=e=>p.problemId=e),disabled:!!t.value,type:"textarea",rows:1},null,8,["modelValue","disabled"])])),_:1}),(0,o.bF)(R,{label:"解题思路"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:p.solutionDescription,"onUpdate:modelValue":a[3]||(a[3]=e=>p.solutionDescription=e),type:"textarea",rows:5},null,8,["modelValue"])])),_:1}),(0,o.bF)(R,{label:"代码"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{modelValue:p.code,"onUpdate:modelValue":a[4]||(a[4]=e=>p.code=e),type:"textarea",rows:10},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,o.bF)(l,{type:"primary",onClick:F},{default:(0,o.k6)((()=>a[13]||(a[13]=[(0,o.eW)("确认")]))),_:1}),(0,o.bF)(l,{onClick:a[5]||(a[5]=e=>c.value=!1)},{default:(0,o.k6)((()=>a[14]||(a[14]=[(0,o.eW)("取消")]))),_:1})])),_:1},8,["modelValue"])])}}};const ql=(0,F.A)(Dl,[["__scopeId","data-v-13861844"]]);var Bl=ql,Pl=l(80642),jl=l(97943),Ol=l.n(jl);const Ql={class:"ai-optimization"},Jl={key:0,class:"loading-container"},Tl={key:1},Nl=["innerHTML"];var Zl={__name:"AiOptimization",setup(e){const a=new Pl.A({html:!0,linkify:!0,typographer:!0,highlight:function(e,l){if(l&&Ol().getLanguage(l))try{return`<pre class="hljs"><code>${Ol().highlight(l,e,!0).value}</code></pre>`}catch(t){return console.error(`Highlighting failed for language ${l}:`,t),`<pre class="hljs"><code>${a.utils.escapeHtml(e)}</code></pre>`}return`<pre class="hljs"><code>${a.utils.escapeHtml(e)}</code></pre>`}}),l=(0,d.lq)(),t=(0,g.KR)(!0),s=(0,g.KR)(""),n=async()=>{try{const e=l.params.id,o=await re.get(`/ai/optimize-submission/${e}`);if(200===o.data.code){const e=o.data.data.optimized_code;s.value=a.render(e),t.value=!1}else t.value=!1,i.nk.error(`获取优化结果失败: ${o.data.message}`)}catch(e){t.value=!1,i.nk.error(`获取优化结果失败: ${e.message}`)}};return(0,o.sV)(n),(e,a)=>{const l=(0,o.g2)("el-icon"),n=(0,o.g2)("el-card");return(0,o.uX)(),(0,o.CE)("div",Ql,[a[2]||(a[2]=(0,o.Lk)("h1",null,"AI优化详情",-1)),(0,o.bF)(n,null,{default:(0,o.k6)((()=>[t.value?((0,o.uX)(),(0,o.CE)("div",Jl,[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,g.R1)(me.Rhj))])),_:1}),a[0]||(a[0]=(0,o.Lk)("p",null,"正在获取AI优化结果，请稍候...",-1))])):((0,o.uX)(),(0,o.CE)("div",Tl,[a[1]||(a[1]=(0,o.Lk)("h3",null,"优化详情:",-1)),(0,o.Lk)("div",{class:"markdown-content",innerHTML:s.value},null,8,Nl)]))])),_:1})])}}};const Yl=(0,F.A)(Zl,[["__scopeId","data-v-0131d4dd"]]);var Ml=Yl,Gl=l(89671),Hl={__name:"UserLeaderboardView",setup(e){const a=(0,g.KR)("topPass"),l=(0,g.KR)([]),t=(0,g.KR)(null),s=()=>{t.value||(t.value=Gl.Ts(document.getElementById("chart")));const e=l.value.map((e=>e.username)),o=l.value.map((e=>e.value)),s={title:{text:"topPass"===a.value?"通过数排行":"topAccuracy"===a.value?"正确率排行":"总得分排行",left:"center"},tooltip:{},xAxis:{type:"category",data:e,axisLabel:{interval:0,rotate:30}},yAxis:{type:"value"},series:[{data:o,type:"bar",smooth:!0}]};t.value.setOption(s)},n=async e=>{let a="";switch(e){case"topPass":a="/leaderboard/top-pass-users";break;case"topAccuracy":a="/leaderboard/top-accuracy-users";break;case"topScore":a="/leaderboard/top-score-users";break}try{const e=await re.get(a,{params:{limit:10}});l.value=e.data.data,s()}catch(t){i.nk.error("获取排行榜失败")}},r=e=>{n(e.props.name)};return(0,o.wB)(a,(e=>{n(e)})),(0,o.sV)((()=>{n(a.value)})),(e,t)=>{const s=(0,o.g2)("el-tab-pane"),n=(0,o.g2)("el-tabs"),u=(0,o.g2)("el-table-column"),d=(0,o.g2)("el-table");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(n,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),onTabClick:r},{default:(0,o.k6)((()=>[(0,o.bF)(s,{label:"通过数排行",name:"topPass"}),(0,o.bF)(s,{label:"正确率排行",name:"topAccuracy"}),(0,o.bF)(s,{label:"总得分排行",name:"topScore"})])),_:1},8,["modelValue"]),t[1]||(t[1]=(0,o.Lk)("div",{id:"chart",style:{width:"100%",height:"400px","margin-top":"20px"}},null,-1)),(0,o.bF)(d,{data:l.value,border:"",style:{width:"100%","margin-top":"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(u,{type:"index",label:"排名",width:"80"}),(0,o.bF)(u,{prop:"username",label:"用户名",width:"200"}),"topPass"===a.value?((0,o.uX)(),(0,o.Wv)(u,{key:0,prop:"value",label:"通过数"})):(0,o.Q3)("",!0),"topAccuracy"===a.value?((0,o.uX)(),(0,o.Wv)(u,{key:1,label:"正确率"},{default:(0,o.k6)((e=>[(0,o.eW)((0,_.v_)(e.row.value.toFixed(2))+"% ",1)])),_:1})):(0,o.Q3)("",!0),"topScore"===a.value?((0,o.uX)(),(0,o.Wv)(u,{key:2,prop:"value",label:"总得分"})):(0,o.Q3)("",!0)])),_:1},8,["data"])])}}};const $l=(0,F.A)(Hl,[["__scopeId","data-v-27baa7b4"]]);var et=$l;const at=[{path:"/",component:Z,children:[{path:"",name:"Home",component:$},{path:"programming-learning",name:"ProgrammingLearning",component:oe},{path:"question-bank",name:"QuestionBank",component:pe},{path:"smart-qa",name:"SmartQA",component:fe},{path:"/ai-optimization/:id",name:"AiOptimization",component:Ml},{path:"/leaderboard",name:"UserLeaderboardView",component:et},{path:"personal-info",name:"PersonalInfo",component:we},{path:"random-question",name:"RandomQuestion",component:De}]},{path:"/admin",component:Oe,meta:{requiresAuth:!0,role:"teacher"},children:[{path:"dashboard",name:"Dashboard",component:aa},{path:"problems",name:"ProblemManagement",component:ra},{path:"problem-samples/:id?",name:"SampleManagement",component:ka},{path:"submissions/:id?",name:"SubmissionsManagement",component:wa},{path:"user",name:"UserManagement",component:Ca},{path:"comment",name:"CommentManagement",component:Aa},{path:"rankings",name:"LeaderboardView",component:Wa},{path:"/admin/problem-answers/:id?",name:"ProblemAnswers",component:Bl}]},{path:"/description/:id",name:"DescriptionView",component:Kl},{path:"/login",component:w},{path:"/teach-login",component:ha},{path:"/register",component:Ie}],lt=(0,d.aE)({history:(0,d.LA)(),routes:at});lt.beforeEach(((e,a,l)=>{const t=v.getters.satoken||localStorage.getItem("satoken"),o=v.getters.role||localStorage.getItem("role");if(e.matched.some((e=>e.meta.requiresAuth))){if(!t)return i.nk.error("请先登录"),l("/teach-login");if("teacher"!==o)return i.nk.error("权限不足，请使用教师账户登录"),l("/teach-login")}l()}));var tt=lt,ot=l(22053);l(4188);const st=(0,t.Ef)(u);st.use(tt),st.use(ot.A),st.use(v),st.mount("#app")}},a={};function l(t){var o=a[t];if(void 0!==o)return o.exports;var s=a[t]={exports:{}};return e[t].call(s.exports,s,s.exports,l),s.exports}l.m=e,function(){var e=[];l.O=function(a,t,o,s){if(!t){var n=1/0;for(i=0;i<e.length;i++){t=e[i][0],o=e[i][1],s=e[i][2];for(var r=!0,u=0;u<t.length;u++)(!1&s||n>=s)&&Object.keys(l.O).every((function(e){return l.O[e](t[u])}))?t.splice(u--,1):(r=!1,s<n&&(n=s));if(r){e.splice(i--,1);var d=o();void 0!==d&&(a=d)}}return a}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[t,o,s]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){l.d=function(e,a){for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};l.O.j=function(a){return 0===e[a]};var a=function(a,t){var o,s,n=t[0],r=t[1],u=t[2],d=0;if(n.some((function(a){return 0!==e[a]}))){for(o in r)l.o(r,o)&&(l.m[o]=r[o]);if(u)var i=u(l)}for(a&&a(t);d<n.length;d++)s=n[d],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return l.O(i)},t=self["webpackChunkoj_web"]=self["webpackChunkoj_web"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=l.O(void 0,[504],(function(){return l(12864)}));t=l.O(t)})();
//# sourceMappingURL=app.8c492e88.js.map